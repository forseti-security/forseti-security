---
layout: docs

title: "google.cloud.forseti.common.util.retryable_exceptions"



hide:
  right_sidebar: true
---
<h1>Source code for google.cloud.forseti.common.util.retryable_exceptions</h1><div class="highlight"><pre>
<span></span><span class="c1"># Copyright 2017 The Forseti Security Authors. All rights reserved.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#    http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>

<span class="sd">&quot;&quot;&quot;Module to determine whether an exception should be retried.&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">httplib</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">ssl</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">httplib2</span>

<span class="kn">from</span> <span class="nn">google.cloud.forseti.scanner.scanners.config_validator_util</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">errors</span> <span class="k">as</span> <span class="n">cv_errors</span>
<span class="p">)</span>


<span class="n">RETRYABLE_EXCEPTIONS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">httplib</span><span class="o">.</span><span class="n">ResponseNotReady</span><span class="p">,</span>
    <span class="n">httplib</span><span class="o">.</span><span class="n">IncompleteRead</span><span class="p">,</span>
    <span class="n">httplib2</span><span class="o">.</span><span class="n">ServerNotFoundError</span><span class="p">,</span>
    <span class="n">socket</span><span class="o">.</span><span class="n">error</span><span class="p">,</span>
    <span class="n">ssl</span><span class="o">.</span><span class="n">SSLError</span><span class="p">,</span>
    <span class="n">urllib2</span><span class="o">.</span><span class="n">URLError</span><span class="p">,</span>  <span class="c1"># include &quot;no network connection&quot;</span>
<span class="p">)</span>

<span class="n">CONFIG_VALIDATOR_EXCEPTIONS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">cv_errors</span><span class="o">.</span><span class="n">ConfigValidatorServerUnavailableError</span><span class="p">,</span>
<span class="p">)</span>


<div class="viewcode-block" id="is_retryable_exception"><a class="viewcode-back" href="../../../../../../google.cloud.forseti.common.util.retryable_exceptions.html#google.cloud.forseti.common.util.retryable_exceptions.is_retryable_exception">[docs]</a><span class="k">def</span> <span class="nf">is_retryable_exception</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Whether exception should be retried.</span>

<span class="sd">    Args:</span>
<span class="sd">        e (Exception): Exception object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True for exceptions to retry. False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">RETRYABLE_EXCEPTIONS</span><span class="p">)</span></div>


<div class="viewcode-block" id="is_retryable_exception_cv"><a class="viewcode-back" href="../../../../../../google.cloud.forseti.common.util.retryable_exceptions.html#google.cloud.forseti.common.util.retryable_exceptions.is_retryable_exception_cv">[docs]</a><span class="k">def</span> <span class="nf">is_retryable_exception_cv</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Whether exception should be retried for Config Validator communications.</span>

<span class="sd">    Args:</span>
<span class="sd">        e (Exception): Exception object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True for exceptions to retry. False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">CONFIG_VALIDATOR_EXCEPTIONS</span><span class="p">)</span></div>
</pre></div>
