---
layout: docs

title: "google.cloud.forseti.services.db module"



hide:
  right_sidebar: true
---
<div class="section" id="module-google.cloud.forseti.services.db">
<span id="google-cloud-forseti-services-db-module"></span><h1>google.cloud.forseti.services.db module<a class="headerlink" href="#module-google.cloud.forseti.services.db" title="Permalink to this headline">¶</a></h1>
<p>Database session handling for Forseti Server.</p>
<dl class="class">
<dt id="google.cloud.forseti.services.db.ScopedSession">
<em class="property">class </em><code class="descname">ScopedSession</code><span class="sig-paren">(</span><em>session</em>, <em>auto_commit=False</em>, <em>readonly=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#ScopedSession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.ScopedSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A scoped session is automatically released.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.db.ScopedSession.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#ScopedSession.__enter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.ScopedSession.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>To support with statement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Returns its session.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.db.ScopedSession.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>exc_type</em>, <em>value</em>, <em>traceback</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#ScopedSession.__exit__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.ScopedSession.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>To support with statement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>exc_type</strong> (<em>object</em>) – Exception type</li>
<li><strong>value</strong> (<em>object</em>) – Exception value</li>
<li><strong>traceback</strong> (<em>object</em>) – Traceback if any</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.db.ScopedSessionMaker">
<em class="property">class </em><code class="descname">ScopedSessionMaker</code><span class="sig-paren">(</span><em>session_maker</em>, <em>auto_commit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#ScopedSessionMaker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.ScopedSessionMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wraps session maker to create scoped sessions.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.db.ScopedSessionMaker.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#ScopedSessionMaker.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.ScopedSessionMaker.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> (<em>list</em>) – Will be forwarded to session creator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Scoped session.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.db._abort_readonly">
<code class="descname">_abort_readonly</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#_abort_readonly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db._abort_readonly" title="Permalink to this definition">¶</a></dt>
<dd><p>Intercept the flush operation and log a warning message.</p>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.db.create_readonly_session">
<code class="descname">create_readonly_session</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#create_readonly_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.create_readonly_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a readonly session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>engine</strong> (<em>object</em>) – Engine to bind session to.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Scoped session maker.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.db.create_scoped_readonly_session">
<code class="descname">create_scoped_readonly_session</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#create_scoped_readonly_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.create_scoped_readonly_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a readonly scoped session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>engine</strong> (<em>object</em>) – Engine to bind session to.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Scoped session maker.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.db.create_scoped_sessionmaker">
<code class="descname">create_scoped_sessionmaker</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#create_scoped_sessionmaker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.create_scoped_sessionmaker" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a scoped session maker</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>engine</strong> (<em>object</em>) – Engine to bind session to.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Scoped session maker.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.db.stub_out_flush_operation">
<code class="descname">stub_out_flush_operation</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/db.html#stub_out_flush_operation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.db.stub_out_flush_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Stub out flush operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>Session</em>) – Session to stub out.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The session after stubbed out the flush operation.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Session</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>

