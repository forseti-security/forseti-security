---
layout: docs

title: "google.cloud.forseti.services.dao module"



hide:
  right_sidebar: true
---
<div class="section" id="module-google.cloud.forseti.services.dao">
<span id="google-cloud-forseti-services-dao-module"></span><h1>google.cloud.forseti.services.dao module<a class="headerlink" href="#module-google.cloud.forseti.services.dao" title="Permalink to this headline">¶</a></h1>
<p>Database abstraction objects for Forseti Server.</p>
<dl class="class">
<dt id="google.cloud.forseti.services.dao.Model">
<em class="property">class </em><code class="descname">Model</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></code></p>
<p>Explain model object in database.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.__repr__">
<code class="descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>Model represented as</dt>
<dd>(name=’{}’, handle=’{}’ state=’{}’)</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model._sa_class_manager">
<code class="descname">_sa_class_manager</code><em class="property"> = {'created_at_datetime': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02eb8&gt;, 'description': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02d58&gt;, 'etag_seed': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02f68&gt;, 'handle': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02bf8&gt;, 'message': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236c2c0048&gt;, 'name': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02a98&gt;, 'state': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02ca8&gt;, 'warnings': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236c2c00f8&gt;, 'watchdog_timer_datetime': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f236cb02e08&gt;}</em><a class="headerlink" href="#google.cloud.forseti.services.dao.Model._sa_class_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.add_description">
<code class="descname">add_description</code><span class="sig-paren">(</span><em>description</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.add_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.add_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new description to the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>description</strong> (<em>str</em>) – the description to be added in json format</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.add_warning">
<code class="descname">add_warning</code><span class="sig-paren">(</span><em>warning</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.add_warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.add_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a warning to the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>warning</strong> (<em>str</em>) – Warning message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.created_at_datetime">
<code class="descname">created_at_datetime</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.created_at_datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.description">
<code class="descname">description</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.etag_seed">
<code class="descname">etag_seed</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.etag_seed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.get_warnings">
<code class="descname">get_warnings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.get_warnings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.get_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns any stored warnings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">warning message</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.handle">
<code class="descname">handle</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.init_on_load">
<code class="descname">init_on_load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.init_on_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.init_on_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization of model when reconstructed from query.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.kick_watchdog">
<code class="descname">kick_watchdog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.kick_watchdog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.kick_watchdog" title="Permalink to this definition">¶</a></dt>
<dd><p>Used during import to notify the import is still progressing.</p>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.message">
<code class="descname">message</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.name">
<code class="descname">name</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.set_done">
<code class="descname">set_done</code><span class="sig-paren">(</span><em>message=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.set_done"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.set_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate a finished import.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) – Success message or ‘’</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.set_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate a broken import.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) – error message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.Model.set_inprogress">
<code class="descname">set_inprogress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#Model.set_inprogress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.set_inprogress" title="Permalink to this definition">¶</a></dt>
<dd><p>Set state to ‘in progress’.</p>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.state">
<code class="descname">state</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.warnings">
<code class="descname">warnings</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.warnings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.dao.Model.watchdog_timer_datetime">
<code class="descname">watchdog_timer_datetime</code><a class="headerlink" href="#google.cloud.forseti.services.dao.Model.watchdog_timer_datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.dao.ModelManager">
<em class="property">class </em><code class="descname">ModelManager</code><span class="sig-paren">(</span><em>dbengine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Central class to create,list,get and delete models.</p>
<p>ModelManager is mostly used to do the lookup from model name to the
session cache which is given in each client’s request.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager._create_model_session">
<code class="descname">_create_model_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager._create_model_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager._create_model_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a session to read from the models table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">db session created</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager._get">
<code class="descname">_get</code><span class="sig-paren">(</span><em>handle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager._get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager._get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get model data by name internal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handle</strong> (<em>str</em>) – the model handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the model in the session maker</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#google.cloud.forseti.services.dao.Model" title="google.cloud.forseti.services.dao.Model">Model</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code> – model handle not available</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager._models">
<code class="descname">_models</code><span class="sig-paren">(</span><em>expunge=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager._models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager._models" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of models from the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expunge</strong> (<em>bool</em>) – Whether or not to detach the object from
the session for use in another session.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of Models in the db</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.add_description">
<code class="descname">add_description</code><span class="sig-paren">(</span><em>model_name</em>, <em>new_description</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.add_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.add_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Add description to a model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model_name</strong> (<em>str</em>) – Model name</li>
<li><strong>new_description</strong> (<em>str</em>) – The description in json format.</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorated functionality, mutexing wrapped function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*args</strong> – All args provided to the wrapped function</li>
<li><strong>**kw</strong> – All kw provided to the wrapped function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the execution results of f</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorated functionality, mutexing wrapped function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*args</strong> – All args provided to the wrapped function</li>
<li><strong>**kw</strong> – All kw provided to the wrapped function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the execution results of f</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get model data by handle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model</strong> (<em>str</em>) – model handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">session and ModelAccess object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.get_description">
<code class="descname">get_description</code><span class="sig-paren">(</span><em>model_name</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.get_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.get_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the description to a model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_name</strong> (<em>str</em>) – Model name</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of the model description.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">json</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.get_model">
<code class="descname">get_model</code><span class="sig-paren">(</span><em>model</em>, <em>expunge=True</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.get_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get model from database by name or handle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> (<em>str</em>) – Model name or handle</li>
<li><strong>expunge</strong> (<em>bool</em>) – Whether or not to detach the object from
the session for use in another session.</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the dbo of the queried model</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#google.cloud.forseti.services.dao.Model" title="google.cloud.forseti.services.dao.Model">Model</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.get_readonly_session">
<code class="descname">get_readonly_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.get_readonly_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.get_readonly_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Get read-only session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The read-only session.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Session</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.model">
<code class="descname">model</code><span class="sig-paren">(</span><em>model_name</em>, <em>expunge=True</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get model from database by name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_name</strong> (<em>str</em>) – Model name or handle</li>
<li><strong>expunge</strong> (<em>bool</em>) – Whether or not to detach the object from
the session for use in another session.</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the dbo of the queried model</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#google.cloud.forseti.services.dao.Model" title="google.cloud.forseti.services.dao.Model">Model</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.dao.ModelManager.models">
<code class="descname">models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#ModelManager.models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.ModelManager.models" title="Permalink to this definition">¶</a></dt>
<dd><p>Expunging wrapper for _models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of Models in the db</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.dao.create_engine">
<code class="descname">create_engine</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#create_engine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.create_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create engine wrapper to patch database options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*args</strong> (<em>list</em>) – Arguments.</li>
<li><strong>**kwargs</strong> (<em>dict</em>) – Arguments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Engine.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.dao.define_model">
<code class="descname">define_model</code><span class="sig-paren">(</span><em>model_name</em>, <em>dbengine</em>, <em>model_seed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#define_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.define_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines table classes which point to the corresponding model.</p>
<blockquote>
<div><p>This means, for each model being accessed this function needs to
be called in order to generate a full set of table definitions.</p>
<p>Models are name spaced via a random model seed such that multiple
models can exist within the same database. In order to implement
the name spacing in an abstract way.</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_name</strong> (<em>str</em>) – model handle</li>
<li><strong>dbengine</strong> (<em>object</em>) – db engine</li>
<li><strong>model_seed</strong> (<em>str</em>) – seed to get etag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(sessionmaker, ModelAccess)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.dao.generate_model_handle">
<code class="descname">generate_model_handle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#generate_model_handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.generate_model_handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate random model handle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">random bytes for handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.dao.generate_model_seed">
<code class="descname">generate_model_seed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#generate_model_seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.generate_model_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate random model seed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">random bytes</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.dao.session_creator">
<code class="descname">session_creator</code><span class="sig-paren">(</span><em>model_name</em>, <em>filename=None</em>, <em>seed=None</em>, <em>echo=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#session_creator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.session_creator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a session maker for the model and db file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_name</strong> (<em>str</em>) – the model name</li>
<li><strong>filename</strong> (<em>str</em>) – the db file to load the sqlite database</li>
<li><strong>seed</strong> (<em>str</em>) – the unique model handle</li>
<li><strong>echo</strong> (<em>bool</em>) – whether to echo all the statements</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">session_maker and the ModelAccess object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.dao.undefine_model">
<code class="descname">undefine_model</code><span class="sig-paren">(</span><em>session_maker</em>, <em>data_access</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/dao.html#undefine_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.dao.undefine_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes an entire model and the corresponding data in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>session_maker</strong> (<em>func</em>) – session_maker function</li>
<li><strong>data_access</strong> (<em>ModelAccess</em>) – data access layer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>

