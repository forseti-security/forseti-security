---
layout: docs

title: "google.cloud.forseti.services.inventory.storage module"



hide:
  right_sidebar: true
---
<div class="section" id="module-google.cloud.forseti.services.inventory.storage">
<span id="google-cloud-forseti-services-inventory-storage-module"></span><h1>google.cloud.forseti.services.inventory.storage module<a class="headerlink" href="#module-google.cloud.forseti.services.inventory.storage" title="Permalink to this headline">¶</a></h1>
<p>Inventory storage implementation.</p>
<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.BufferedDbWriter">
<em class="property">class </em><code class="descname">BufferedDbWriter</code><span class="sig-paren">(</span><em>session</em>, <em>max_size=1024</em>, <em>max_packet_size=25165824.0</em>, <em>commit_on_flush=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#BufferedDbWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.BufferedDbWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Buffered db writing.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.BufferedDbWriter.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>obj</em>, <em>estimated_length=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#BufferedDbWriter.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.BufferedDbWriter.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an object to the buffer to write to db.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>object</em>) – Object to write to db.</li>
<li><strong>estimated_length</strong> (<em>int</em>) – The estimated length of this object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.BufferedDbWriter.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#BufferedDbWriter.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.BufferedDbWriter.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all pending objects to the database.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.CaiDataAccess">
<em class="property">class </em><code class="descname">CaiDataAccess</code><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiDataAccess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiDataAccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Access to the CAI temporary store table.</p>
<dl class="staticmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiDataAccess.clear_cai_data">
<em class="property">static </em><code class="descname">clear_cai_data</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiDataAccess.clear_cai_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiDataAccess.clear_cai_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all temporary CAI data from the cai temporary table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>object</em>) – Database session.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of rows deleted.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiDataAccess.fetch_cai_asset">
<em class="property">static </em><code class="descname">fetch_cai_asset</code><span class="sig-paren">(</span><em>content_type</em>, <em>asset_type</em>, <em>name</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiDataAccess.fetch_cai_asset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiDataAccess.fetch_cai_asset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a single resource from the cai temporary store.</p>
<p>Retries query on exception up to 5 times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>content_type</strong> (<a class="reference internal" href="#google.cloud.forseti.services.inventory.storage.ContentTypes" title="google.cloud.forseti.services.inventory.storage.ContentTypes"><em>ContentTypes</em></a>) – The content type to return.</li>
<li><strong>asset_type</strong> (<em>str</em>) – The asset type to return.</li>
<li><strong>name</strong> (<em>str</em>) – The resource to return.</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The content data for the specified resource.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiDataAccess.iter_cai_assets">
<em class="property">static </em><code class="descname">iter_cai_assets</code><span class="sig-paren">(</span><em>content_type</em>, <em>asset_type</em>, <em>parent_name</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiDataAccess.iter_cai_assets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiDataAccess.iter_cai_assets" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate the objects in the cai temporary table.</p>
<p>Retries query on exception up to 5 times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>content_type</strong> (<a class="reference internal" href="#google.cloud.forseti.services.inventory.storage.ContentTypes" title="google.cloud.forseti.services.inventory.storage.ContentTypes"><em>ContentTypes</em></a>) – The content type to return.</li>
<li><strong>asset_type</strong> (<em>str</em>) – The asset type to return.</li>
<li><strong>parent_name</strong> (<em>str</em>) – The parent resource to iter children under.</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>object</em> – The content_type data for each resource.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiDataAccess.populate_cai_data">
<em class="property">static </em><code class="descname">populate_cai_data</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiDataAccess.populate_cai_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiDataAccess.populate_cai_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add assets from cai data dump into cai temporary table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>file</em>) – A file like object, line delimeted text dump of json
data representing assets from Cloud Asset Inventory exportAssets
API.</li>
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The number of rows inserted</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore">
<em class="property">class </em><code class="descname">CaiTemporaryStore</code><span class="sig-paren">(</span><em>name</em>, <em>parent_name</em>, <em>content_type</em>, <em>asset_type</em>, <em>asset_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiTemporaryStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>CAI temporary inventory table.</p>
<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.UNPARENTED_ASSETS">
<code class="descname">UNPARENTED_ASSETS</code><em class="property"> = frozenset({'cloudresourcemanager.googleapis.com/Organization', 'cloudbilling.googleapis.com/BillingAccount'})</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.UNPARENTED_ASSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore._get_parent_name">
<em class="property">static </em><code class="descname">_get_parent_name</code><span class="sig-paren">(</span><em>asset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiTemporaryStore._get_parent_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore._get_parent_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the parent name from the resource data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asset</strong> (<em>dict</em>) – An Asset object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parent name for the resource.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.asset_data">
<code class="descname">asset_data</code><em class="property"> = None</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.asset_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.asset_type">
<code class="descname">asset_type</code><em class="property"> = None</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.asset_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.content_type">
<code class="descname">content_type</code><em class="property"> = None</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.content_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.delete_all">
<em class="property">classmethod </em><code class="descname">delete_all</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiTemporaryStore.delete_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.delete_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all rows from this table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>object</em>) – db session</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of rows deleted.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – Reraises any exception.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.extract_asset_data">
<code class="descname">extract_asset_data</code><span class="sig-paren">(</span><em>content_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiTemporaryStore.extract_asset_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.extract_asset_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the data from the asset protobuf based on the content type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>content_type</strong> (<a class="reference internal" href="#google.cloud.forseti.services.inventory.storage.ContentTypes" title="google.cloud.forseti.services.inventory.storage.ContentTypes"><em>ContentTypes</em></a>) – The content type data to extract.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>The dict representation of the asset</dt>
<dd>data and an Asset metadata along with it.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Tuple[dict, <a class="reference internal" href="google.cloud.forseti.services.inventory.base.gcp.html#google.cloud.forseti.services.inventory.base.gcp.AssetMetadata" title="google.cloud.forseti.services.inventory.base.gcp.AssetMetadata">AssetMetadata</a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>asset_json</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiTemporaryStore.from_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a database row object from the json data in a dump file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asset_json</strong> (<em>str</em>) – The json representation of an Asset.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">database row object or None if there is no data.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.initialize">
<em class="property">classmethod </em><code class="descname">initialize</code><span class="sig-paren">(</span><em>metadata</em>, <em>collation='utf8_bin'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#CaiTemporaryStore.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the table schema based on run time arguments.</p>
<p>Used to fix the column collation value for non-MySQL database engines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>metadata</strong> (<em>object</em>) – The sqlalchemy MetaData to associate the table
with.</li>
<li><strong>collation</strong> (<em>str</em>) – The collation value to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.name">
<code class="descname">name</code><em class="property"> = None</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.parent_name">
<code class="descname">parent_name</code><em class="property"> = None</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.CaiTemporaryStore.parent_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.Categories">
<em class="property">class </em><code class="descname">Categories</code><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Categories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Inventory Categories.</p>
<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.billing_info">
<code class="descname">billing_info</code><em class="property"> = 5</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.billing_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.dataset_policy">
<code class="descname">dataset_policy</code><em class="property"> = 4</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.dataset_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.enabled_apis">
<code class="descname">enabled_apis</code><em class="property"> = 6</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.enabled_apis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.gcs_policy">
<code class="descname">gcs_policy</code><em class="property"> = 3</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.gcs_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.iam_policy">
<code class="descname">iam_policy</code><em class="property"> = 2</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.iam_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.kubernetes_service_config">
<code class="descname">kubernetes_service_config</code><em class="property"> = 7</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.kubernetes_service_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Categories.resource">
<code class="descname">resource</code><em class="property"> = 1</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Categories.resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.ContentTypes">
<em class="property">class </em><code class="descname">ContentTypes</code><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#ContentTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.ContentTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Cloud Asset Inventory Content Types.</p>
<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.ContentTypes.iam_policy">
<code class="descname">iam_policy</code><em class="property"> = 2</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.ContentTypes.iam_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.ContentTypes.resource">
<code class="descname">resource</code><em class="property"> = 1</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.ContentTypes.resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess">
<em class="property">class </em><code class="descname">DataAccess</code><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Access to inventory for services.</p>
<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess.delete">
<em class="property">classmethod </em><code class="descname">delete</code><span class="sig-paren">(</span><em>session</em>, <em>inventory_index_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an inventory index entry by id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> (<em>object</em>) – Database session.</li>
<li><strong>inventory_index_id</strong> (<em>str</em>) – Id specifying which inventory to delete.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An expunged entry corresponding the
inventory_index_id.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex" title="google.cloud.forseti.services.inventory.storage.InventoryIndex">InventoryIndex</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – Reraises any exception.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess.get">
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>session</em>, <em>inventory_index_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an inventory index entry by id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> (<em>object</em>) – Database session</li>
<li><strong>inventory_index_id</strong> (<em>str</em>) – Inventory id</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Entry corresponding the id</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex" title="google.cloud.forseti.services.inventory.storage.InventoryIndex">InventoryIndex</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess.get_inventory_index_id_by_scanner_index_id">
<em class="property">classmethod </em><code class="descname">get_inventory_index_id_by_scanner_index_id</code><span class="sig-paren">(</span><em>session</em>, <em>scanner_index_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess.get_inventory_index_id_by_scanner_index_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess.get_inventory_index_id_by_scanner_index_id" title="Permalink to this definition">¶</a></dt>
<dd><p>List all inventory index entries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> (<em>object</em>) – Database session</li>
<li><strong>scanner_index_id</strong> (<em>int</em>) – id of the scanner in scanner_index table</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">inventory index id</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int64</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess.get_inventory_indexes_older_than_cutoff">
<em class="property">classmethod </em><code class="descname">get_inventory_indexes_older_than_cutoff</code><span class="sig-paren">(</span><em>session</em>, <em>cutoff_datetime</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess.get_inventory_indexes_older_than_cutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess.get_inventory_indexes_older_than_cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all inventory index entries older than the cutoff.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> (<em>object</em>) – Database session</li>
<li><strong>cutoff_datetime</strong> (<em>datetime</em>) – The cutoff point to find any
older inventory index entries.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">InventoryIndex</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess.get_latest_inventory_index_id">
<em class="property">classmethod </em><code class="descname">get_latest_inventory_index_id</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess.get_latest_inventory_index_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess.get_latest_inventory_index_id" title="Permalink to this definition">¶</a></dt>
<dd><p>List all inventory index entries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>object</em>) – Database session</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">inventory index id</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int64</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.DataAccess.list">
<em class="property">classmethod </em><code class="descname">list</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#DataAccess.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.DataAccess.list" title="Permalink to this definition">¶</a></dt>
<dd><p>List all inventory index entries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>object</em>) – Database session</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><em>InventoryIndex</em> – Generates each row</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory">
<em class="property">class </em><code class="descname">Inventory</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></code></p>
<p>Resource inventory table.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.__repr__">
<code class="descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation of the database row object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A description of inventory_index</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory._sa_class_manager">
<code class="descname">_sa_class_manager</code><em class="property"> = {'cai_resource_name': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf6d0&gt;, 'cai_resource_type': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf780&gt;, 'category': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf830&gt;, 'id': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf410&gt;, 'inventory_errors': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bfc50&gt;, 'inventory_index_id': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf620&gt;, 'other': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bfba0&gt;, 'parent_id': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bfaf0&gt;, 'resource_data': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bfa40&gt;, 'resource_id': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf990&gt;, 'resource_type': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf8e0&gt;}</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory._sa_class_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.cai_resource_name">
<code class="descname">cai_resource_name</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.cai_resource_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.cai_resource_type">
<code class="descname">cai_resource_type</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.cai_resource_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.category">
<code class="descname">category</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.copy_inplace">
<code class="descname">copy_inplace</code><span class="sig-paren">(</span><em>new_row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.copy_inplace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.copy_inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a database row object from a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_row</strong> (<a class="reference internal" href="google.cloud.forseti.services.inventory.inventory.html#google.cloud.forseti.services.inventory.inventory.Inventory" title="google.cloud.forseti.services.inventory.inventory.Inventory"><em>Inventory</em></a>) – the Inventory row of the new resource</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.from_resource">
<em class="property">classmethod </em><code class="descname">from_resource</code><span class="sig-paren">(</span><em>index</em>, <em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.from_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.from_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a database row object from a crawled resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> (<a class="reference internal" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex" title="google.cloud.forseti.services.inventory.storage.InventoryIndex"><em>InventoryIndex</em></a>) – InventoryIndex to associate.</li>
<li><strong>resource</strong> (<a class="reference internal" href="google.cloud.forseti.common.gcp_type.resource.html#google.cloud.forseti.common.gcp_type.resource.Resource" title="google.cloud.forseti.common.gcp_type.resource.Resource"><em>Resource</em></a>) – Crawled resource.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">database row object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_cai_resource_name">
<code class="descname">get_cai_resource_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_cai_resource_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_cai_resource_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s cai resource name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cai resource name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_cai_resource_type">
<code class="descname">get_cai_resource_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_cai_resource_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_cai_resource_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s cai resource type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cai resource type.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_category">
<code class="descname">get_category</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_category"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s data category.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">data category.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_inventory_errors">
<code class="descname">get_inventory_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_inventory_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_inventory_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s error data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">row’s error data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_other">
<code class="descname">get_other</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_other"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_other" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s other data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">row’s other data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_parent_id">
<code class="descname">get_parent_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_parent_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_parent_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s parent id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">parent id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_resource_data">
<code class="descname">get_resource_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_resource_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_resource_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s metadata.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">row’s metadata.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_resource_data_raw">
<code class="descname">get_resource_data_raw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_resource_data_raw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_resource_data_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s data json string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">row’s raw data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_resource_id">
<code class="descname">get_resource_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_resource_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_resource_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s resource id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">resource id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_resource_type">
<code class="descname">get_resource_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_resource_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_resource_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row’s resource type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">resource type.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.get_schema_update_actions">
<em class="property">static </em><code class="descname">get_schema_update_actions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Inventory.get_schema_update_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.get_schema_update_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintain all the schema changes for this table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A mapping of Action: Column.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.id">
<code class="descname">id</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.inventory_errors">
<code class="descname">inventory_errors</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.inventory_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.inventory_index_id">
<code class="descname">inventory_index_id</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.inventory_index_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.other">
<code class="descname">other</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.other" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.parent_id">
<code class="descname">parent_id</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.parent_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.resource_data">
<code class="descname">resource_data</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.resource_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.resource_id">
<code class="descname">resource_id</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.resource_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.Inventory.resource_type">
<code class="descname">resource_type</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Inventory.resource_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex">
<em class="property">class </em><code class="descname">InventoryIndex</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></code></p>
<p>Represents a GCP inventory.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.__repr__">
<code class="descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Object string representation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String representation of the object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex._sa_class_manager">
<code class="descname">_sa_class_manager</code><em class="property"> = {'completed_at_datetime': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51b9eb8&gt;, 'counter': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf1a8&gt;, 'created_at_datetime': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51b9e08&gt;, 'id': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51b9d00&gt;, 'inventory_index_errors': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf308&gt;, 'inventory_index_warnings': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf258&gt;, 'inventory_status': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51b9f68&gt;, 'message': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf3b8&gt;, 'progress': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf0f8&gt;, 'schema_version': &lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f24f51bf048&gt;}</em><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex._sa_class_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.add_warning">
<code class="descname">add_warning</code><span class="sig-paren">(</span><em>session</em>, <em>warning</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.add_warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.add_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a warning to the inventory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>session</strong> (<em>object</em>) – session object to work on.</li>
<li><strong>warning</strong> (<em>str</em>) – Warning message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.complete">
<code class="descname">complete</code><span class="sig-paren">(</span><em>status='SUCCESS'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the inventory as completed with a final inventory_status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>str</em>) – Final inventory_status.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.completed_at_datetime">
<code class="descname">completed_at_datetime</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.completed_at_datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.counter">
<code class="descname">counter</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.counter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new inventory index row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">InventoryIndex row object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.created_at_datetime">
<code class="descname">created_at_datetime</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.created_at_datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.get_details">
<code class="descname">get_details</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.get_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.get_details" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate/return inventory details for this inventory index.</p>
<p>Includes delete pending/active resource types and hidden/shown datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>object</em>) – session object to work on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a (resource type -&gt; count) dictionary</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.get_hidden_resource_details">
<code class="descname">get_hidden_resource_details</code><span class="sig-paren">(</span><em>session</em>, <em>resource_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.get_hidden_resource_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.get_hidden_resource_details" title="Permalink to this definition">¶</a></dt>
<dd><p>Count of the hidden and shown specified resources.</p>
<p>Generate/return the count of hidden resources (e.g. dataset) for this
inventory index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> (<em>object</em>) – session object to work on.</li>
<li><strong>resource_type</strong> (<em>str</em>) – resource type to find details for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a (hidden_resource -&gt; count) dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.get_lifecycle_state_details">
<code class="descname">get_lifecycle_state_details</code><span class="sig-paren">(</span><em>session</em>, <em>resource_type_input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.get_lifecycle_state_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.get_lifecycle_state_details" title="Permalink to this definition">¶</a></dt>
<dd><p>Count of lifecycle states of the specified resources.</p>
<p>Generate/return the count of lifecycle states (ACTIVE, DELETE_PENDING)
of the specific resource type input (project, folder) for this inventory
index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> (<em>object</em>) – session object to work on.</li>
<li><strong>resource_type_input</strong> (<em>str</em>) – resource type to get lifecycle states.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a (lifecycle state -&gt; count) dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.get_summary">
<code class="descname">get_summary</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.get_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.get_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate/return an inventory summary for this inventory index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>object</em>) – session object to work on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a (resource type -&gt; count) dictionary</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.id">
<code class="descname">id</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.inventory_index_errors">
<code class="descname">inventory_index_errors</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.inventory_index_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.inventory_index_warnings">
<code class="descname">inventory_index_warnings</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.inventory_index_warnings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.inventory_status">
<code class="descname">inventory_status</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.inventory_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.message">
<code class="descname">message</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.progress">
<code class="descname">progress</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.progress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.schema_version">
<code class="descname">schema_version</code><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.schema_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.InventoryIndex.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>session</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#InventoryIndex.set_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.InventoryIndex.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate a broken import.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>session</strong> (<em>object</em>) – session object to work on.</li>
<li><strong>message</strong> (<em>str</em>) – Error message to set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.forseti.services.inventory.storage.Storage">
<em class="property">class </em><code class="descname">Storage</code><span class="sig-paren">(</span><em>session</em>, <em>existing_id=0</em>, <em>readonly=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="google.cloud.forseti.services.inventory.base.storage.html#google.cloud.forseti.services.inventory.base.storage.Storage" title="google.cloud.forseti.services.inventory.base.storage.Storage"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.forseti.services.inventory.base.storage.Storage</span></code></a></p>
<p>Inventory storage used during creation.</p>
<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.__enter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>To support with statement for auto closing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The inventory storage object</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="google.cloud.forseti.services.inventory.base.storage.html#google.cloud.forseti.services.inventory.base.storage.Storage" title="google.cloud.forseti.services.inventory.base.storage.Storage">Storage</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>type_p</em>, <em>value</em>, <em>traceback</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.__exit__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>To support with statement for auto closing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type_p</strong> (<em>object</em>) – Unused.</li>
<li><strong>value</strong> (<em>object</em>) – Unused.</li>
<li><strong>traceback</strong> (<em>object</em>) – Unused.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage._create">
<code class="descname">_create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage._create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage._create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new inventory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Index number of the created inventory.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – Reraises any exception.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage._get_resource_id">
<code class="descname">_get_resource_id</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage._get_resource_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage._get_resource_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a resource exists already in the inventory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource</strong> (<em>object</em>) – Resource object to check against the db.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The resource id of the existing resource, else 0.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage._get_resource_rows">
<code class="descname">_get_resource_rows</code><span class="sig-paren">(</span><em>key</em>, <em>resource_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage._get_resource_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage._get_resource_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the rows in the database for a certain resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) – The key of the resource</li>
<li><strong>resource_type</strong> (<em>str</em>) – The type of the resource</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The inventory db rows of the resource,
IAM policy and GCS policy.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">object</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – if there is no such row or more than one.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage._open">
<code class="descname">_open</code><span class="sig-paren">(</span><em>inventory_index_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage._open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage._open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open an existing inventory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inventory_index_id</strong> (<em>str</em>) – the id of the inventory to open.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The inventory index db row.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage._require_opened">
<code class="descname">_require_opened</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage._require_opened"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage._require_opened" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the storage is in ‘open’ state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If storage is not opened.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If the storage was not opened before or
if the storage is writeable but neither
rollback nor commit has been called.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit the stored inventory.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.error">
<code class="descname">error</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a fatal error in storage. This will help debug problems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) – Error message describing the problem.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If the storage was opened readonly.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.get_root">
<code class="descname">get_root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.get_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.get_root" title="Permalink to this definition">¶</a></dt>
<dd><p>get the resource root from the inventory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A row in gcp_inventory of the root</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.iter">
<code class="descname">iter</code><span class="sig-paren">(</span><em>type_list=None</em>, <em>fetch_iam_policy=False</em>, <em>fetch_gcs_policy=False</em>, <em>fetch_dataset_policy=False</em>, <em>fetch_billing_info=False</em>, <em>fetch_enabled_apis=False</em>, <em>fetch_service_config=False</em>, <em>with_parent=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate the objects in the storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>type_list</strong> (<em>list</em>) – List of types to iterate over, or [] for all.</li>
<li><strong>fetch_iam_policy</strong> (<em>bool</em>) – Yield iam policies.</li>
<li><strong>fetch_gcs_policy</strong> (<em>bool</em>) – Yield gcs policies.</li>
<li><strong>fetch_dataset_policy</strong> (<em>bool</em>) – Yield dataset policies.</li>
<li><strong>fetch_billing_info</strong> (<em>bool</em>) – Yield project billing info.</li>
<li><strong>fetch_enabled_apis</strong> (<em>bool</em>) – Yield project enabled APIs info.</li>
<li><strong>fetch_service_config</strong> (<em>bool</em>) – Yield container service config info.</li>
<li><strong>with_parent</strong> (<em>bool</em>) – Join parent with results, yield tuples.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>object</em> – Single row object or child/parent if ‘with_parent’ is set.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.open">
<code class="descname">open</code><span class="sig-paren">(</span><em>handle=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the storage, potentially create a new index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handle</strong> (<em>str</em>) – If None, create a new index instead
of opening an existing one.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Index id of the opened or created inventory.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – if open was called more than once</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.rollback">
<code class="descname">rollback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.rollback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Roll back the stored inventory, but keep the index entry.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.type_exists">
<code class="descname">type_exists</code><span class="sig-paren">(</span><em>type_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.type_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.type_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if certain types of resources exists in the inventory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>type_list</strong> (<em>list</em>) – List of types to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If these types of resources exists</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a resource in the storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource</strong> (<em>object</em>) – Resource object to store in db.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If storage was opened readonly.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.warning">
<code class="descname">warning</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a Warning message in storage. This will help debug problems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) – Warning message describing the problem.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If the storage was opened readonly.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.forseti.services.inventory.storage.Storage.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#Storage.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.Storage.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a resource to the storage and updates its row</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource</strong> (<em>object</em>) – Resource object to store in db.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If storage was opened readonly.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="google.cloud.forseti.services.inventory.storage.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/forseti/services/inventory/storage.html#initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.forseti.services.inventory.storage.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Create all tables in the database if not existing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>engine</strong> (<em>object</em>) – Database engine to operate on.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>

