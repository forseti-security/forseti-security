---
layout: docs

title: "google.cloud.forseti.services.inventory.base.resources"



hide:
  right_sidebar: true
---
<h1>Source code for google.cloud.forseti.services.inventory.base.resources</h1><div class="highlight"><pre>
<span></span><span class="c1"># Copyright 2017 The Forseti Security Authors. All rights reserved.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#    http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="sd">&quot;&quot;&quot;Crawler implementation for gcp resources.&quot;&quot;&quot;</span>

<span class="c1"># pylint: disable=too-many-lines, no-self-use, bad-docstring-quotes</span>

<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">partial</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">google.cloud.forseti.common.gcp_api</span> <span class="k">import</span> <span class="n">errors</span> <span class="k">as</span> <span class="n">api_errors</span>
<span class="kn">from</span> <span class="nn">google.cloud.forseti.common.util</span> <span class="k">import</span> <span class="n">date_time</span>
<span class="kn">from</span> <span class="nn">google.cloud.forseti.common.util</span> <span class="k">import</span> <span class="n">logger</span>
<span class="kn">from</span> <span class="nn">google.cloud.forseti.common.util</span> <span class="k">import</span> <span class="n">string_formats</span>
<span class="kn">from</span> <span class="nn">google.cloud.forseti.services.inventory.base.gcp</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">ResourceNotSupported</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">google.cloud.forseti.services.inventory.base</span> <span class="k">import</span> <span class="n">iam_helpers</span>

<span class="n">LOGGER</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<div class="viewcode-block" id="size_t_hash"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.size_t_hash">[docs]</a><span class="k">def</span> <span class="nf">size_t_hash</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Hash the key using size_t.</span>

<span class="sd">    Args:</span>
<span class="sd">        key (str): The key to hash.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The hashed key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%u</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="from_root_id"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.from_root_id">[docs]</a><span class="k">def</span> <span class="nf">from_root_id</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">root_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Start the crawling from root if the root type is supported.</span>

<span class="sd">    Args:</span>
<span class="sd">        client (object): GCP API client.</span>
<span class="sd">        root_id (str): id of the root.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Resource: the root resource instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Unsupported root id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;organizations&#39;</span><span class="p">:</span> <span class="n">ResourceManagerOrganization</span><span class="o">.</span><span class="n">fetch</span><span class="p">,</span>
        <span class="s1">&#39;projects&#39;</span><span class="p">:</span> <span class="n">ResourceManagerProject</span><span class="o">.</span><span class="n">fetch</span><span class="p">,</span>
        <span class="s1">&#39;folders&#39;</span><span class="p">:</span> <span class="n">ResourceManagerFolder</span><span class="o">.</span><span class="n">fetch</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">root_map</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">root_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">root_id</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
        <span class="s1">&#39;Unsupported root id, must be one of </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_map</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span></div>


<div class="viewcode-block" id="cached"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.cached">[docs]</a><span class="k">def</span> <span class="nf">cached</span><span class="p">(</span><span class="n">field_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Decorator to perform caching.</span>

<span class="sd">    Args:</span>
<span class="sd">        field_name (str): The name of the attribute to cache.</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapper: Function wrapper to perform caching.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">field_name</span> <span class="o">=</span> <span class="s1">&#39;__cached_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_cached</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Cache wrapper.</span>

<span class="sd">        Args:</span>
<span class="sd">            f (func): function to be decorated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            wrapper: Function wrapper to perform caching.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Function wrapper to perform caching.</span>

<span class="sd">            Args:</span>
<span class="sd">                *args: args to be passed to the function.</span>
<span class="sd">                **kwargs: kwargs to be passed to the function.</span>

<span class="sd">            Returns:</span>
<span class="sd">                object: Results of executing f.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field_name</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field_name</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="k">return</span> <span class="n">wrapper</span>

    <span class="k">return</span> <span class="n">_cached</span></div>


<div class="viewcode-block" id="ResourceFactory"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceFactory">[docs]</a><span class="k">class</span> <span class="nc">ResourceFactory</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;ResourceFactory for visitor pattern.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attributes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize.</span>

<span class="sd">        Args:</span>
<span class="sd">            attributes (dict): attributes for a specific type of resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="n">attributes</span>

<div class="viewcode-block" id="ResourceFactory.create_new"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceFactory.create_new">[docs]</a>    <span class="k">def</span> <span class="nf">create_new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new instance of a Resource type.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (str): raw data.</span>
<span class="sd">            root (Resource): root of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Resource: Resource instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;cls&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span></div></div>


<span class="c1"># pylint: disable=too-many-instance-attributes, too-many-public-methods</span>
<div class="viewcode-block" id="Resource"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource">[docs]</a><span class="k">class</span> <span class="nc">Resource</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The base Resource class.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">contains</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (str): raw data.</span>
<span class="sd">            root (Resource): the root of this crawling.</span>
<span class="sd">            contains (list): child types to crawl.</span>
<span class="sd">            **kwargs (dict): arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">kwargs</span>  <span class="c1"># Unused.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span> <span class="o">=</span> <span class="n">root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visitor</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_contains</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">contains</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">contains</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_warning</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_utcnow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inventory_key</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="Resource._utcnow"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource._utcnow">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_utcnow</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Wrapper for datetime.datetime.now() injection.</span>

<span class="sd">        Returns:</span>
<span class="sd">            datatime: the datetime.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">date_time</span><span class="o">.</span><span class="n">get_utc_now_datetime</span><span class="p">()</span></div>

<div class="viewcode-block" id="Resource.__getitem__"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.__getitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get Item.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: data of this resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: &#39;key: {}, data: {}&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;key: </span><span class="si">{}</span><span class="s1">, data: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">))</span></div>

<div class="viewcode-block" id="Resource.__setitem__"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.__setitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the value of an item.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): key of this resource.</span>
<span class="sd">            value (str): value to set on this resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Resource.set_inventory_key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.set_inventory_key">[docs]</a>    <span class="k">def</span> <span class="nf">set_inventory_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the inventory unique id for the resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (int): The unique id for the resource from the storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inventory_key</span> <span class="o">=</span> <span class="n">key</span></div>

<div class="viewcode-block" id="Resource.inventory_key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.inventory_key">[docs]</a>    <span class="k">def</span> <span class="nf">inventory_key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the inventory key for this resource, if set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The unique id for the resource in storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inventory_key</span></div>

<div class="viewcode-block" id="Resource.type"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.type">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Get type of this resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: method not implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="Resource.data"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.data">[docs]</a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get data on this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: raw data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span></div>

<div class="viewcode-block" id="Resource.parent"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.parent">[docs]</a>    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get parent of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Resource: parent of this resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: key method not implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;Class: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span></div>

<div class="viewcode-block" id="Resource.add_warning"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.add_warning">[docs]</a>    <span class="k">def</span> <span class="nf">add_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">warning</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add warning on this resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            warning (str): warning to be added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_warning</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">warning</span><span class="p">))</span></div>

<div class="viewcode-block" id="Resource.get_warning"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_warning">[docs]</a>    <span class="k">def</span> <span class="nf">get_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get warning on this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: warning message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_warning</span><span class="p">)</span></div>

    <span class="c1"># pylint: disable=broad-except</span>
<div class="viewcode-block" id="Resource.try_accept"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.try_accept">[docs]</a>    <span class="k">def</span> <span class="nf">try_accept</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visitor</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Handle exceptions on the call the accept.</span>

<span class="sd">        Args:</span>
<span class="sd">            visitor (object): The class implementing the visitor pattern.</span>
<span class="sd">            stack (list): The resource stack from the root to immediate parent</span>
<span class="sd">                of this resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">accept</span><span class="p">(</span><span class="n">visitor</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">visitor</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
            <span class="n">visitor</span><span class="o">.</span><span class="n">on_child_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>

<div class="viewcode-block" id="Resource.accept"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.accept">[docs]</a>    <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visitor</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Accept of resource in visitor pattern.</span>

<span class="sd">        Args:</span>
<span class="sd">            visitor (Crawler): visitor instance.</span>
<span class="sd">            stack (list): resource hierarchy stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="k">else</span> <span class="n">stack</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span> <span class="o">=</span> <span class="n">stack</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visitor</span> <span class="o">=</span> <span class="n">visitor</span>
        <span class="n">visitor</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">yielder_cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contains</span><span class="p">:</span>
            <span class="n">yielder</span> <span class="o">=</span> <span class="n">yielder_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visitor</span><span class="o">.</span><span class="n">get_client</span><span class="p">())</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">yielder</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="n">resource</span>
                    <span class="n">new_stack</span> <span class="o">=</span> <span class="n">stack</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>

                    <span class="c1"># Parallelization for resource subtrees.</span>
                    <span class="k">if</span> <span class="n">res</span><span class="o">.</span><span class="n">should_dispatch</span><span class="p">():</span>
                        <span class="n">callback</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">try_accept</span><span class="p">,</span> <span class="n">visitor</span><span class="p">,</span> <span class="n">new_stack</span><span class="p">)</span>
                        <span class="n">visitor</span><span class="o">.</span><span class="n">dispatch</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">res</span><span class="o">.</span><span class="n">try_accept</span><span class="p">(</span><span class="n">visitor</span><span class="p">,</span> <span class="n">new_stack</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">visitor</span><span class="o">.</span><span class="n">on_child_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_warning</span><span class="p">:</span>
            <span class="n">visitor</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

    <span class="c1"># pylint: enable=broad-except</span>

<div class="viewcode-block" id="Resource.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get iam policy template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_gcs_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_gcs_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;gcs_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_gcs_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get gcs policy template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_cloudsql_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_cloudsql_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;sql_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_cloudsql_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get cloudsql policy template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_dataset_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_dataset_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;dataset_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_dataset_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get dataset policy template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_group_members"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_group_members">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;group_members&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_group_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get group member template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_billing_info"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_billing_info">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;billing_info&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_billing_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get billing info template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_enabled_apis"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_enabled_apis">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;enabled_apis&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_enabled_apis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get enabled apis template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_kubernetes_service_config"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_kubernetes_service_config">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;service_config&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_kubernetes_service_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get kubernetes service config method template.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="n">client</span>  <span class="c1"># Unused.</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Resource.get_timestamp"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.get_timestamp">[docs]</a>    <span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Template for timestamp when the resource object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: a string timestamp when the resource object was created.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamp</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">string_formats</span><span class="o">.</span><span class="n">TIMESTAMP_UTC_OFFSET</span><span class="p">)</span></div>

<div class="viewcode-block" id="Resource.stack"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.stack">[docs]</a>    <span class="k">def</span> <span class="nf">stack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get resource hierarchy stack of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: resource hierarchy stack of this resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: &#39;Stack not initialized yet&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Stack not initialized yet&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span></div>

<div class="viewcode-block" id="Resource.visitor"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.visitor">[docs]</a>    <span class="k">def</span> <span class="nf">visitor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get visitor on this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Crawler: visitor on this resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: &#39;Visitor not initialized yet&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visitor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Visitor not initialized yet&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visitor</span></div>

<div class="viewcode-block" id="Resource.should_dispatch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.should_dispatch">[docs]</a>    <span class="k">def</span> <span class="nf">should_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Whether resources should run in parallel threads.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: whether this resource should run in parallel threads.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Resource.__repr__"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.Resource.__repr__">[docs]</a>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String Representation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Resource representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&lt;data=&quot;</span><span class="si">{}</span><span class="s1">&quot;, parent_resource_type=&quot;</span><span class="si">{}</span><span class="s1">&quot;, &#39;</span>
                <span class="s1">&#39;parent_resource_id=&quot;</span><span class="si">{}</span><span class="s1">&quot;&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">type</span><span class="p">(),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">key</span><span class="p">())</span></div></div>
<span class="c1"># pylint: enable=too-many-instance-attributes, too-many-public-methods</span>


<div class="viewcode-block" id="resource_class_factory"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.resource_class_factory">[docs]</a><span class="k">def</span> <span class="nf">resource_class_factory</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">key_field</span><span class="p">,</span> <span class="n">hash_key</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Factory function to generate Resource subclasses.</span>

<span class="sd">    Args:</span>
<span class="sd">        resource_type (str): The static resource type for this subclass.</span>
<span class="sd">        key_field (str): The field in the resource data to use as the resource</span>
<span class="sd">            unique key.</span>
<span class="sd">        hash_key (bool): If true, use a hash of the key field data instead of</span>
<span class="sd">            the value of the key field.</span>

<span class="sd">    Returns:</span>
<span class="sd">        class: A new class object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">ResourceSubclass</span><span class="p">(</span><span class="n">Resource</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Subclass of Resource.&quot;&quot;&quot;</span>

        <span class="nd">@staticmethod</span>
        <span class="k">def</span> <span class="nf">type</span><span class="p">():</span>
            <span class="sd">&quot;&quot;&quot;Get type of this resource.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str: The static resource type for this subclass.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">resource_type</span>

        <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str: key of this resource.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">hash_key</span><span class="p">:</span>
                <span class="c1"># Resource does not have a globally unique ID, use size_t hash</span>
                <span class="c1"># of key data.</span>
                <span class="k">return</span> <span class="n">size_t_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">key_field</span><span class="p">])</span>

            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">key_field</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">ResourceSubclass</span></div>


<span class="c1"># Resource Manager resource classes</span>
<div class="viewcode-block" id="ResourceManagerOrganization"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrganization">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerOrganization</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Organization.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ResourceManagerOrganization.fetch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrganization.fetch">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">client</span><span class="p">,</span> <span class="n">resource_key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get Organization.</span>

<span class="sd">        Saves ApiExecutionErrors as warnings.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">            resource_key (str): resource key to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Organization: Organization resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_crm_organization</span><span class="p">(</span><span class="n">resource_key</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Unable to fetch Organization </span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">resource_key</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">resource_key</span><span class="p">}</span>
            <span class="n">resource</span> <span class="o">=</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">resource</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">resource</span></div>

<div class="viewcode-block" id="ResourceManagerOrganization.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrganization.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get iam policy for this organization.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: organization IAM Policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_crm_organization_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="ResourceManagerOrganization.has_directory_resource_id"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrganization.has_directory_resource_id">[docs]</a>    <span class="k">def</span> <span class="nf">has_directory_resource_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Whether this organization has a directoryCustomerId.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the data exists, else False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;owner&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="ow">and</span>
                <span class="s1">&#39;directoryCustomerId&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;owner&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ResourceManagerOrganization.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrganization.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: key of this resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="ResourceManagerOrgPolicy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrgPolicy">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerOrgPolicy</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;crm_org_policy&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Resource Manager Organization Policy.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ResourceManagerOrgPolicy.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrgPolicy.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: key of this resource</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">unique_key</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">type</span><span class="p">(),</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">key</span><span class="p">(),</span>
                               <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;constraint&#39;</span><span class="p">]])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%u</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">unique_key</span><span class="p">))</span><span class="o">.</span><span class="n">value</span></div></div>


<div class="viewcode-block" id="ResourceManagerFolder"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolder">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerFolder</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;folder&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Folder.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ResourceManagerFolder.fetch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolder.fetch">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">client</span><span class="p">,</span> <span class="n">resource_key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get Folder.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">            resource_key (str): resource key to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Folder: Folder resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_crm_folder</span><span class="p">(</span><span class="n">resource_key</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;folder&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Unable to fetch Folder </span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">resource_key</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">resource_key</span><span class="p">}</span>
            <span class="n">resource</span> <span class="o">=</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;folder&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">resource</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">resource</span></div>

<div class="viewcode-block" id="ResourceManagerFolder.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolder.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: key of this resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="ResourceManagerFolder.should_dispatch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolder.should_dispatch">[docs]</a>    <span class="k">def</span> <span class="nf">should_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Folder resources should run in parallel threads.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: whether folder resources should run in parallel threads.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="ResourceManagerFolder.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolder.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get iam policy for this folder.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Folder IAM Policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_crm_folder_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<div class="viewcode-block" id="ResourceManagerProject"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerProject</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;projectId&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Project.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">contains</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (str): raw data.</span>
<span class="sd">            root (Resource): the root of this crawling.</span>
<span class="sd">            contains (list): child types to crawl.</span>
<span class="sd">            **kwargs (dict): arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ResourceManagerProject</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">contains</span><span class="p">,</span>
                                                     <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_service_names</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="ResourceManagerProject.fetch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.fetch">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">client</span><span class="p">,</span> <span class="n">resource_key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get Project.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>
<span class="sd">            resource_key (str): resource key to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Project: created project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">project_number</span> <span class="o">=</span> <span class="n">resource_key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_crm_project</span><span class="p">(</span><span class="n">project_number</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Unable to fetch Project </span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">resource_key</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">resource_key</span><span class="p">}</span>
            <span class="n">resource</span> <span class="o">=</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">resource</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">resource</span></div>

<div class="viewcode-block" id="ResourceManagerProject.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get iam policy for this project.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Project IAM Policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enumerable</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_crm_project_iam_policy</span><span class="p">(</span>
                    <span class="n">project_number</span><span class="o">=</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="p">{}</span></div>

<div class="viewcode-block" id="ResourceManagerProject.get_billing_info"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.get_billing_info">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;billing_info&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_billing_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get billing info.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Project Billing Info resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enumerable</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_billing_project_info</span><span class="p">(</span>
                    <span class="n">project_number</span><span class="o">=</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get Billing Info: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="p">{}</span></div>

<div class="viewcode-block" id="ResourceManagerProject.get_enabled_apis"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.get_enabled_apis">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;enabled_apis&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_enabled_apis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get project enabled API services.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: A list of ManagedService resource dicts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enabled_apis</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enumerable</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">enabled_apis</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_services_enabled_apis</span><span class="p">(</span>
                    <span class="n">project_number</span><span class="o">=</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get Enabled APIs: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_service_names</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span>
            <span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;serviceName&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">api</span> <span class="ow">in</span> <span class="n">enabled_apis</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">enabled_apis</span></div>

<div class="viewcode-block" id="ResourceManagerProject.should_dispatch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.should_dispatch">[docs]</a>    <span class="k">def</span> <span class="nf">should_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Project resources should run in parallel threads.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: whether project resources should run in parallel threads.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="ResourceManagerProject.enumerable"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.enumerable">[docs]</a>    <span class="k">def</span> <span class="nf">enumerable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if this project is enumerable.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: if this project is enumerable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;lifecycleState&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ACTIVE&#39;</span></div>

<div class="viewcode-block" id="ResourceManagerProject.billing_enabled"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.billing_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">billing_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if billing is configured.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: if billing is enabled on the project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_billing_info</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_billing_info</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;billingEnabled&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1"># If status is unknown, always return True so other APIs aren&#39;t blocked.</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="ResourceManagerProject.is_api_enabled"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.is_api_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">is_api_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the API service is enabled on the project.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_name (str): The API service name to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: whether a service api is enabled</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_service_names</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">service_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_service_names</span>

        <span class="c1"># If status is unknown, always return True so other APIs aren&#39;t blocked.</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="ResourceManagerProject.bigquery_api_enabled"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.bigquery_api_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">bigquery_api_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if the bigquery api is enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: if this API service is enabled on the project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Bigquery API depends on billing being enabled</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">billing_enabled</span><span class="p">()</span> <span class="ow">and</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">is_api_enabled</span><span class="p">(</span><span class="s1">&#39;bigquery-json.googleapis.com&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="ResourceManagerProject.compute_api_enabled"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.compute_api_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">compute_api_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if the compute api is enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: if this API service is enabled on the project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Compute API depends on billing being enabled</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">billing_enabled</span><span class="p">()</span> <span class="ow">and</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">is_api_enabled</span><span class="p">(</span><span class="s1">&#39;compute.googleapis.com&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="ResourceManagerProject.container_api_enabled"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.container_api_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">container_api_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if the container api is enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: if this API service is enabled on the project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Compute API depends on billing being enabled</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">billing_enabled</span><span class="p">()</span> <span class="ow">and</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">is_api_enabled</span><span class="p">(</span><span class="s1">&#39;container.googleapis.com&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="ResourceManagerProject.storage_api_enabled"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProject.storage_api_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">storage_api_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;whether storage api is enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: if this API service is enabled on the project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_api_enabled</span><span class="p">(</span><span class="s1">&#39;storage-component.googleapis.com&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ResourceManagerLien"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerLien">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerLien</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;lien&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Resource Manager Lien.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ResourceManagerLien.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerLien.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: key of this resource</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div></div>


<span class="c1"># AppEngine resource classes</span>
<div class="viewcode-block" id="AppEngineApp"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineApp">[docs]</a><span class="k">class</span> <span class="nc">AppEngineApp</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;appengine_app&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                          <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for AppEngine App.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="AppEngineService"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineService">[docs]</a><span class="k">class</span> <span class="nc">AppEngineService</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;appengine_service&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                              <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for AppEngine Service.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="AppEngineVersion"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineVersion">[docs]</a><span class="k">class</span> <span class="nc">AppEngineVersion</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;appengine_version&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                              <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for AppEngine Version.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="AppEngineInstance"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineInstance">[docs]</a><span class="k">class</span> <span class="nc">AppEngineInstance</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;appengine_instance&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                               <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for AppEngine Instance.&quot;&quot;&quot;</span></div>


<span class="c1"># Bigquery resource classes</span>
<div class="viewcode-block" id="BigqueryDataSet"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryDataSet">[docs]</a><span class="k">class</span> <span class="nc">BigqueryDataSet</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Bigquery DataSet.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="BigqueryDataSet._set_cache"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryDataSet._set_cache">[docs]</a>    <span class="k">def</span> <span class="nf">_set_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Manually set a cache value if it isn&#39;t already set.</span>

<span class="sd">        Args:</span>
<span class="sd">            field_name (str): The name of the attribute to cache.</span>
<span class="sd">            value (str): The value to cache.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">field_name</span> <span class="o">=</span> <span class="s1">&#39;__cached_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BigqueryDataSet.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryDataSet.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;IAM policy for this Dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Dataset Policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">iam_policy</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_bigquery_iam_policy</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;projectId&#39;</span><span class="p">],</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
                <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;datasetReference&#39;</span><span class="p">][</span><span class="s1">&#39;datasetId&#39;</span><span class="p">])</span>
            <span class="n">dataset_policy</span> <span class="o">=</span> <span class="n">iam_helpers</span><span class="o">.</span><span class="n">convert_iam_to_bigquery_policy</span><span class="p">(</span>
                <span class="n">iam_policy</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_cache</span><span class="p">(</span><span class="s1">&#39;dataset_policy&#39;</span><span class="p">,</span> <span class="n">dataset_policy</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">iam_policy</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get Dataset IAM Policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="BigqueryDataSet.get_dataset_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryDataSet.get_dataset_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;dataset_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_dataset_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Dataset policy for this Dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Dataset Policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dataset_policy</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_bigquery_dataset_policy</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;projectId&#39;</span><span class="p">],</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
                <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;datasetReference&#39;</span><span class="p">][</span><span class="s1">&#39;datasetId&#39;</span><span class="p">])</span>
            <span class="n">iam_policy</span> <span class="o">=</span> <span class="n">iam_helpers</span><span class="o">.</span><span class="n">convert_bigquery_policy_to_iam</span><span class="p">(</span>
                <span class="n">dataset_policy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;projectId&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_cache</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">,</span> <span class="n">iam_policy</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">dataset_policy</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get Dataset Policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># BigqueryTable resource classes</span>
<div class="viewcode-block" id="BigqueryTable"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryTable">[docs]</a><span class="k">class</span> <span class="nc">BigqueryTable</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;bigquery_table&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for bigquery table.&quot;&quot;&quot;</span></div>


<span class="c1"># Billing resource classes</span>
<div class="viewcode-block" id="BillingAccount"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BillingAccount">[docs]</a><span class="k">class</span> <span class="nc">BillingAccount</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;billing_account&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for BillingAccount.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="BillingAccount.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BillingAccount.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: key of this resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="BillingAccount.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BillingAccount.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get iam policy for this folder.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Billing Account IAM Policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_billing_account_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># CloudSQL resource classes</span>
<div class="viewcode-block" id="CloudSqlInstance"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.CloudSqlInstance">[docs]</a><span class="k">class</span> <span class="nc">CloudSqlInstance</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;cloudsqlinstance&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for CloudSQL Instance.&quot;&quot;&quot;</span></div>


<span class="c1"># Compute Engine resource classes</span>
<div class="viewcode-block" id="ComputeAutoscaler"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeAutoscaler">[docs]</a><span class="k">class</span> <span class="nc">ComputeAutoscaler</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_autoscaler&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Autoscaler.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeBackendBucket"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeBackendBucket">[docs]</a><span class="k">class</span> <span class="nc">ComputeBackendBucket</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_backendbucket&#39;</span><span class="p">,</span>
                                                  <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Backend Bucket.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeBackendService"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeBackendService">[docs]</a><span class="k">class</span> <span class="nc">ComputeBackendService</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;backendservice&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Backend Service.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeDisk"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeDisk">[docs]</a><span class="k">class</span> <span class="nc">ComputeDisk</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;disk&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Disk.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeFirewall"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeFirewall">[docs]</a><span class="k">class</span> <span class="nc">ComputeFirewall</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;firewall&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Firewall.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeForwardingRule"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeForwardingRule">[docs]</a><span class="k">class</span> <span class="nc">ComputeForwardingRule</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;forwardingrule&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Forwarding Rule.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeHealthCheck"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeHealthCheck">[docs]</a><span class="k">class</span> <span class="nc">ComputeHealthCheck</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_healthcheck&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute HealthCheck.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeHttpHealthCheck"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeHttpHealthCheck">[docs]</a><span class="k">class</span> <span class="nc">ComputeHttpHealthCheck</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_httphealthcheck&#39;</span><span class="p">,</span>
                                                    <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute HTTP HealthCheck.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeHttpsHealthCheck"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeHttpsHealthCheck">[docs]</a><span class="k">class</span> <span class="nc">ComputeHttpsHealthCheck</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_httpshealthcheck&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute HTTPS HealthCheck.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeImage"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeImage">[docs]</a><span class="k">class</span> <span class="nc">ComputeImage</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Image.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeInstance"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstance">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstance</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;instance&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Instance.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeInstanceGroup"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceGroup">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceGroup</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;instancegroup&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute InstanceGroup.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeInstanceGroupManager"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceGroupManager">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceGroupManager</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;instancegroupmanager&#39;</span><span class="p">,</span>
                                                         <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute InstanceGroupManager.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeInstanceTemplate"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceTemplate">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceTemplate</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;instancetemplate&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute InstanceTemplate.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeLicense"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeLicense">[docs]</a><span class="k">class</span> <span class="nc">ComputeLicense</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_license&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute License.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeNetwork"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeNetwork">[docs]</a><span class="k">class</span> <span class="nc">ComputeNetwork</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;network&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Network.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeProject"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeProject">[docs]</a><span class="k">class</span> <span class="nc">ComputeProject</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_project&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Project.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeRouter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeRouter">[docs]</a><span class="k">class</span> <span class="nc">ComputeRouter</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_router&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Router.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeSnapshot"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeSnapshot">[docs]</a><span class="k">class</span> <span class="nc">ComputeSnapshot</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;snapshot&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Snapshot.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeSslCertificate"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeSslCertificate">[docs]</a><span class="k">class</span> <span class="nc">ComputeSslCertificate</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_sslcertificate&#39;</span><span class="p">,</span>
                                                   <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute SSL Certificate.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeSubnetwork"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeSubnetwork">[docs]</a><span class="k">class</span> <span class="nc">ComputeSubnetwork</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;subnetwork&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute Subnetwork.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetHttpProxy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetHttpProxy">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetHttpProxy</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targethttpproxy&#39;</span><span class="p">,</span>
                                                    <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetHttpProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetHttpsProxy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetHttpsProxy">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetHttpsProxy</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targethttpsproxy&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetHttpsProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetInstance"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetInstance">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetInstance</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targetinstance&#39;</span><span class="p">,</span>
                                                   <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetInstance.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetPool"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetPool">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetPool</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targetpool&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetPool.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetSslProxy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetSslProxy">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetSslProxy</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targetsslproxy&#39;</span><span class="p">,</span>
                                                   <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetSslProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetTcpProxy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetTcpProxy">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetTcpProxy</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targettcpproxy&#39;</span><span class="p">,</span>
                                                   <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetTcpProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetVpnGateway"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetVpnGateway">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetVpnGateway</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_targetvpngateway&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute TargetVpnGateway.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeUrlMap"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeUrlMap">[docs]</a><span class="k">class</span> <span class="nc">ComputeUrlMap</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_urlmap&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute UrlMap.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeVpnTunnel"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeVpnTunnel">[docs]</a><span class="k">class</span> <span class="nc">ComputeVpnTunnel</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;compute_vpntunnel&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Compute VpnTunnel.&quot;&quot;&quot;</span></div>


<span class="c1"># Cloud Dataproc resource classes</span>
<div class="viewcode-block" id="DataprocCluster"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DataprocCluster">[docs]</a><span class="k">class</span> <span class="nc">DataprocCluster</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;dataproc_cluster&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;clusterUuid&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Dataproc Cluster.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="DataprocCluster.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DataprocCluster.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Dataproc Cluster IAM policy.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Dataproc Cluster IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Dataproc resource does not contain a direct reference to the</span>
            <span class="c1"># region name except in an embedded label.</span>
            <span class="n">region</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">][</span><span class="s1">&#39;goog-dataproc-location&#39;</span><span class="p">]</span>
            <span class="n">cluster</span> <span class="o">=</span> <span class="s1">&#39;projects/</span><span class="si">{}</span><span class="s1">/regions/</span><span class="si">{}</span><span class="s1">/clusters/</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;projectId&#39;</span><span class="p">],</span> <span class="n">region</span><span class="p">,</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;clusterName&#39;</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_dataproc_cluster_iam_policy</span><span class="p">(</span><span class="n">cluster</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span>
                <span class="n">ResourceNotSupported</span><span class="p">,</span>
                <span class="ne">KeyError</span><span class="p">,</span>
                <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">e</span> <span class="o">=</span> <span class="s1">&#39;Cluster has no labels.&#39;</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># Cloud DNS resource classes</span>
<div class="viewcode-block" id="DnsManagedZone"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DnsManagedZone">[docs]</a><span class="k">class</span> <span class="nc">DnsManagedZone</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;dns_managedzone&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Cloud DNS ManagedZone.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="DnsPolicy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DnsPolicy">[docs]</a><span class="k">class</span> <span class="nc">DnsPolicy</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;dns_policy&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Cloud DNS Policy.&quot;&quot;&quot;</span></div>


<span class="c1"># IAM resource classes</span>
<div class="viewcode-block" id="IamCuratedRole"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamCuratedRole">[docs]</a><span class="k">class</span> <span class="nc">IamCuratedRole</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;role&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for IAM Curated Roles.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="IamCuratedRole.parent"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamCuratedRole.parent">[docs]</a>    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Curated roles have no parent.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span></div></div>


<div class="viewcode-block" id="IamRole"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamRole">[docs]</a><span class="k">class</span> <span class="nc">IamRole</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;role&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for IAM Roles.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IamServiceAccount"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamServiceAccount">[docs]</a><span class="k">class</span> <span class="nc">IamServiceAccount</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;serviceaccount&#39;</span><span class="p">,</span> <span class="s1">&#39;uniqueId&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for IAM ServiceAccount.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="IamServiceAccount.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamServiceAccount.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Service Account IAM policy for this service account.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Service Account IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_iam_serviceaccount_iam_policy</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;uniqueId&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<div class="viewcode-block" id="IamServiceAccountKey"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamServiceAccountKey">[docs]</a><span class="k">class</span> <span class="nc">IamServiceAccountKey</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;serviceaccount_key&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for IAM ServiceAccountKey.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="IamServiceAccountKey.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamServiceAccountKey.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Key name is in the format:</span>
<span class="sd">           projects/{project_id}/serviceAccounts/{service_account}/keys/{key_id}</span>
<span class="sd">        Returns:</span>
<span class="sd">            str: id key of this resource</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div></div>


<span class="c1"># Key Management Service resource classes</span>
<div class="viewcode-block" id="KmsCryptoKey"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsCryptoKey">[docs]</a><span class="k">class</span> <span class="nc">KmsCryptoKey</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;kms_cryptokey&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                          <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for KMS CryptoKey.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="KmsCryptoKey.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsCryptoKey.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;KMS CryptoKey IAM policy.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: CryptoKey IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_kms_cryptokey_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<div class="viewcode-block" id="KmsCryptoKeyVersion"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsCryptoKeyVersion">[docs]</a><span class="k">class</span> <span class="nc">KmsCryptoKeyVersion</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;kms_cryptokeyversion&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                                 <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for KMS CryptoKeyVersion.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="KmsKeyRing"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsKeyRing">[docs]</a><span class="k">class</span> <span class="nc">KmsKeyRing</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;kms_keyring&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                        <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for KMS KeyRing.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="KmsKeyRing.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsKeyRing.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;KMS Keyring IAM policy.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Keyring IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_kms_keyring_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># Kubernetes Engine resource classes</span>
<div class="viewcode-block" id="KubernetesCluster"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KubernetesCluster">[docs]</a><span class="k">class</span> <span class="nc">KubernetesCluster</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;kubernetes_cluster&#39;</span><span class="p">,</span>
                                               <span class="s1">&#39;selfLink&#39;</span><span class="p">,</span>
                                               <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Kubernetes Cluster.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="KubernetesCluster.get_kubernetes_service_config"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KubernetesCluster.get_kubernetes_service_config">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;service_config&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_kubernetes_service_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get service config for KubernetesCluster.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Generator of Kubernetes Engine Cluster resources.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_container_serviceconfig</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">key</span><span class="p">(),</span> <span class="n">zone</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">zone</span><span class="p">(),</span> <span class="n">location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s1">&#39;Cluster has no zone or location: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get Service Config: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="KubernetesCluster.location"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KubernetesCluster.location">[docs]</a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get KubernetesCluster location.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: KubernetesCluster location.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self_link_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;selfLink&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">self_link_parts</span><span class="p">[</span><span class="n">self_link_parts</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;locations&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;selfLink not found or contains no locations: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="KubernetesCluster.zone"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KubernetesCluster.zone">[docs]</a>    <span class="k">def</span> <span class="nf">zone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get KubernetesCluster zone.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: KubernetesCluster zone.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">self_link_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;selfLink&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">self_link_parts</span><span class="p">[</span><span class="n">self_link_parts</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;zones&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;selfLink not found or contains no zones: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># Stackdriver Logging resource classes</span>
<div class="viewcode-block" id="LoggingSink"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.LoggingSink">[docs]</a><span class="k">class</span> <span class="nc">LoggingSink</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;sink&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Stackdriver Logging sink.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="LoggingSink.key"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.LoggingSink.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get key of this resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: key of this resource</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sink_name</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">type</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">key</span><span class="p">(),</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(),</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
        <span class="k">return</span> <span class="n">sink_name</span></div></div>


<span class="c1"># GSuite resource classes</span>
<div class="viewcode-block" id="GsuiteUser"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteUser">[docs]</a><span class="k">class</span> <span class="nc">GsuiteUser</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;gsuite_user&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for GSuite User.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="GsuiteGroup"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteGroup">[docs]</a><span class="k">class</span> <span class="nc">GsuiteGroup</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;gsuite_group&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for GSuite User.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="GsuiteGroup.should_dispatch"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteGroup.should_dispatch">[docs]</a>    <span class="k">def</span> <span class="nf">should_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;GSuite Groups should always dispatch to another thread.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Always returns True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div></div>


<div class="viewcode-block" id="GsuiteUserMember"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteUserMember">[docs]</a><span class="k">class</span> <span class="nc">GsuiteUserMember</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;gsuite_user_member&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for GSuite User.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="GsuiteGroupMember"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteGroupMember">[docs]</a><span class="k">class</span> <span class="nc">GsuiteGroupMember</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;gsuite_group_member&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for GSuite User.&quot;&quot;&quot;</span></div>


<span class="c1"># Cloud Pub/Sub resource classes</span>
<div class="viewcode-block" id="PubsubSubscription"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.PubsubSubscription">[docs]</a><span class="k">class</span> <span class="nc">PubsubSubscription</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;pubsub_subscription&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                                <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for PubSub Subscription.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="PubsubSubscription.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.PubsubSubscription.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get IAM policy for this Pubsub Subscription.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Pubsub Subscription IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_pubsub_subscription_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<div class="viewcode-block" id="PubsubTopic"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.PubsubTopic">[docs]</a><span class="k">class</span> <span class="nc">PubsubTopic</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;pubsub_topic&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                         <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for PubSub Topic.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="PubsubTopic.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.PubsubTopic.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get IAM policy for this Pubsub Topic.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Pubsub Topic IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_pubsub_topic_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># Cloud Spanner resource classes</span>
<div class="viewcode-block" id="SpannerDatabase"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.SpannerDatabase">[docs]</a><span class="k">class</span> <span class="nc">SpannerDatabase</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;spanner_database&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                             <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Spanner Database.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="SpannerInstance"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.SpannerInstance">[docs]</a><span class="k">class</span> <span class="nc">SpannerInstance</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;spanner_instance&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                             <span class="n">hash_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Spanner Instance.&quot;&quot;&quot;</span></div>


<span class="c1"># Cloud storage resource classes</span>
<div class="viewcode-block" id="StorageBucket"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageBucket">[docs]</a><span class="k">class</span> <span class="nc">StorageBucket</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;bucket&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Storage Bucket.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="StorageBucket.get_iam_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageBucket.get_iam_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;iam_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get IAM policy for this Storage bucket.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: bucket IAM policy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_storage_bucket_iam_policy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">())</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get IAM policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="StorageBucket.get_gcs_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageBucket.get_gcs_policy">[docs]</a>    <span class="nd">@cached</span><span class="p">(</span><span class="s1">&#39;gcs_policy&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_gcs_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get Bucket Access Control policy for this storage bucket.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: bucket access controls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Full projection returns GCS policy with the resource.</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;acl&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">fetch_storage_bucket_acls</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">(),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;projectId&#39;</span><span class="p">],</span>
                <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">api_errors</span><span class="o">.</span><span class="n">ApiExecutionError</span><span class="p">,</span> <span class="n">ResourceNotSupported</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Could not get bucket Access Control policy: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<div class="viewcode-block" id="StorageObject"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageObject">[docs]</a><span class="k">class</span> <span class="nc">StorageObject</span><span class="p">(</span><span class="n">resource_class_factory</span><span class="p">(</span><span class="s1">&#39;storage_object&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource implementation for Storage Object.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="StorageObject.get_gcs_policy"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageObject.get_gcs_policy">[docs]</a>    <span class="k">def</span> <span class="nf">get_gcs_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Full projection returns GCS policy with the resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            client (object): GCP API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Object acl.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;acl&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></div></div>


<div class="viewcode-block" id="ResourceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceIterator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator template.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource (Resource): The parent resource.</span>
<span class="sd">            client (object): GCP API Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource</span> <span class="o">=</span> <span class="n">resource</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>

<div class="viewcode-block" id="ResourceIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Abstract class method not implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="resource_iter_class_factory"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.resource_iter_class_factory">[docs]</a><span class="k">def</span> <span class="nf">resource_iter_class_factory</span><span class="p">(</span><span class="n">api_method_name</span><span class="p">,</span>
                                <span class="n">resource_name</span><span class="p">,</span>
                                <span class="n">api_method_arg_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">additional_arg_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Factory function to generate ResourceIterator subclasses.</span>

<span class="sd">    Args:</span>
<span class="sd">        api_method_name (str): The method to call on the API client class to</span>
<span class="sd">            iterate resources.</span>
<span class="sd">        resource_name (str): The name of the resource to create from the</span>
<span class="sd">            resource factory.</span>
<span class="sd">        api_method_arg_key (str): An optional key from the resource dict to</span>
<span class="sd">            lookup for the value to send to the api method.</span>
<span class="sd">        additional_arg_keys (list): An optional list of additional keys from the</span>
<span class="sd">            resource dict to lookup for the values to send to the api method.</span>
<span class="sd">        resource_validation_method_name (str): An optional method name to call</span>
<span class="sd">            to validate that the resource supports iterating resources of this</span>
<span class="sd">            type.</span>
<span class="sd">        **kwargs (dict): Additional keyword args to send to the api method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        class: A new class object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">always_true</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Helper function that always returns True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">class</span> <span class="nc">ResourceIteratorSubclass</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Subclass of ResourceIterator.&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">            Yields:</span>
<span class="sd">                Resource: resource returned from client.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
            <span class="k">if</span> <span class="n">resource_validation_method_name</span><span class="p">:</span>
                <span class="n">resource_validation_check</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">,</span> <span class="n">resource_validation_method_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Always return True if no check is configured.</span>
                <span class="n">resource_validation_check</span> <span class="o">=</span> <span class="n">always_true</span>

            <span class="k">if</span> <span class="n">resource_validation_check</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">iter_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">gcp</span><span class="p">,</span> <span class="n">api_method_name</span><span class="p">)</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">if</span> <span class="n">api_method_arg_key</span><span class="p">:</span>
                        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="n">api_method_arg_key</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">additional_arg_keys</span><span class="p">:</span>
                        <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">additional_arg_keys</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">iter_method</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="n">resource_name</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ResourceIteratorSubclass</span></div>


<div class="viewcode-block" id="ResourceManagerFolderIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolderIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerFolderIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_crm_folders&#39;</span><span class="p">,</span> <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;folder&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Resource Manager Folder.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ResourceManagerFolderOrgPolicyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerFolderOrgPolicyIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerFolderOrgPolicyIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_crm_folder_org_policies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;crm_org_policy&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for CRM Folder Org Policies.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ResourceManagerOrganizationOrgPolicyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerOrganizationOrgPolicyIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerOrganizationOrgPolicyIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_crm_organization_org_policies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;crm_org_policy&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator for CRM Organization Org Policies.&quot;&quot;&quot;</span></div>


<span class="c1"># Project iterator requires looking up parent type, so cannot use class factory.</span>
<div class="viewcode-block" id="ResourceManagerProjectIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProjectIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerProjectIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Resource Manager Project.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ResourceManagerProjectIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProjectIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: Project created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="n">parent_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">type</span><span class="p">()</span>
        <span class="n">parent_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">key</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gcp</span><span class="o">.</span><span class="n">iter_crm_projects</span><span class="p">(</span>
                    <span class="n">parent_type</span><span class="o">=</span><span class="n">parent_type</span><span class="p">,</span> <span class="n">parent_id</span><span class="o">=</span><span class="n">parent_id</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ResourceManagerProjectOrgPolicyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProjectOrgPolicyIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerProjectOrgPolicyIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_crm_project_org_policies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;crm_org_policy&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for CRM Project Org Policies.&quot;&quot;&quot;</span></div>


<span class="c1"># AppEngine iterators do not support using the class factory.</span>
<div class="viewcode-block" id="AppEngineAppIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineAppIterator">[docs]</a><span class="k">class</span> <span class="nc">AppEngineAppIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for AppEngineApp&quot;&quot;&quot;</span>

<div class="viewcode-block" id="AppEngineAppIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineAppIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: AppEngineApp created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">enumerable</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">gcp</span><span class="o">.</span><span class="n">fetch_gae_app</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;projectId&#39;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;appengine_app&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="AppEngineServiceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineServiceIterator">[docs]</a><span class="k">class</span> <span class="nc">AppEngineServiceIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for AppEngineService&quot;&quot;&quot;</span>

<div class="viewcode-block" id="AppEngineServiceIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineServiceIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: AppEngineService created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gcp</span><span class="o">.</span><span class="n">iter_gae_services</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]):</span>
                <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;appengine_service&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="AppEngineVersionIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineVersionIterator">[docs]</a><span class="k">class</span> <span class="nc">AppEngineVersionIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for AppEngineVersion&quot;&quot;&quot;</span>

<div class="viewcode-block" id="AppEngineVersionIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineVersionIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: AppEngineVersion created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gcp</span><span class="o">.</span><span class="n">iter_gae_versions</span><span class="p">(</span>
                    <span class="n">project_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                    <span class="n">service_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]):</span>
                <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;appengine_version&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="AppEngineInstanceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineInstanceIterator">[docs]</a><span class="k">class</span> <span class="nc">AppEngineInstanceIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for AppEngineInstance&quot;&quot;&quot;</span>

<div class="viewcode-block" id="AppEngineInstanceIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.AppEngineInstanceIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: AppEngineInstance created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gcp</span><span class="o">.</span><span class="n">iter_gae_instances</span><span class="p">(</span>
                    <span class="n">project_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                    <span class="n">service_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">parent</span><span class="p">()[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                    <span class="n">version_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]):</span>
                <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;appengine_instance&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="BigqueryDataSetIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryDataSetIterator">[docs]</a><span class="k">class</span> <span class="nc">BigqueryDataSetIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_bigquery_datasets&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;bigquery_dataset&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Bigquery Dataset.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="BigqueryTableIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BigqueryTableIterator">[docs]</a><span class="k">class</span> <span class="nc">BigqueryTableIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_bigquery_tables&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;bigquery_table&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;datasetReference&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Bigquery Table.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="BillingAccountIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.BillingAccountIterator">[docs]</a><span class="k">class</span> <span class="nc">BillingAccountIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_billing_accounts&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;billing_account&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Billing Account.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="CloudSqlInstanceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.CloudSqlInstanceIterator">[docs]</a><span class="k">class</span> <span class="nc">CloudSqlInstanceIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_cloudsql_instances&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;cloudsql_instance&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for CloudSQL Instance.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="compute_iter_class_factory"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.compute_iter_class_factory">[docs]</a><span class="k">def</span> <span class="nf">compute_iter_class_factory</span><span class="p">(</span><span class="n">api_method_name</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Factory function to generate ResourceIterator subclasses for Compute.</span>

<span class="sd">    Args:</span>
<span class="sd">        api_method_name (str): The method to call on the API client class to</span>
<span class="sd">            iterate resources.</span>
<span class="sd">        resource_name (str): The name of the resource to create from the</span>
<span class="sd">            resource factory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        class: A new class object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">,</span> <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;compute_api_enabled&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="ComputeAutoscalerIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeAutoscalerIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeAutoscalerIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_autoscalers&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_autoscaler&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Autoscaler.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeBackendBucketIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeBackendBucketIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeBackendBucketIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_backendbuckets&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_backendbucket&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute BackendBucket.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeBackendServiceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeBackendServiceIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeBackendServiceIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_backendservices&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_backendservice&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute BackendService.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeDiskIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeDiskIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeDiskIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_disks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_disk&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Disk.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeFirewallIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeFirewallIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeFirewallIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_firewalls&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_firewall&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Firewall.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeForwardingRuleIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeForwardingRuleIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeForwardingRuleIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_forwardingrules&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_forwardingrule&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute ForwardingRule.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeHealthCheckIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeHealthCheckIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeHealthCheckIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_healthchecks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_healthcheck&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute HealthCheck.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeHttpHealthCheckIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeHttpHealthCheckIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeHttpHealthCheckIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_httphealthchecks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_httphealthcheck&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute HttpHealthCheck.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeHttpsHealthCheckIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeHttpsHealthCheckIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeHttpsHealthCheckIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_httpshealthchecks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_httpshealthcheck&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute HttpsHealthCheck.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeImageIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeImageIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeImageIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_images&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_image&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Image.&quot;&quot;&quot;</span></div>


<span class="c1"># TODO: Refactor IAP scanner to not expect additional data to be included</span>
<span class="c1"># with the instancegroup resource.</span>
<div class="viewcode-block" id="ComputeInstanceGroupIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceGroupIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceGroupIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute InstanceGroup.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ComputeInstanceGroupIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceGroupIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Compute InstanceGroup iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: Compute InstanceGroup resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">compute_api_enabled</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gcp</span><span class="o">.</span><span class="n">iter_compute_instancegroups</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">]):</span>
                    <span class="c1"># IAP Scanner expects instance URLs to be included with the</span>
                    <span class="c1"># instance groups.</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;instance_urls&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gcp</span><span class="o">.</span><span class="n">fetch_compute_ig_instances</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
                            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                            <span class="n">zone</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;zone&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)),</span>
                            <span class="n">region</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)))</span>
                    <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
                        <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

                    <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;compute_instancegroup&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ComputeInstanceGroupManagerIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceGroupManagerIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceGroupManagerIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_ig_managers&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_instancegroupmanager&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute InstanceGroupManager.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeInstanceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_instances&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_instance&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Instance.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeInstanceTemplateIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeInstanceTemplateIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeInstanceTemplateIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_instancetemplates&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_instancetemplate&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute InstanceTemplate.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeLicenseIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeLicenseIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeLicenseIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_licenses&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_license&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute License.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeNetworkIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeNetworkIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeNetworkIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_networks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_network&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Network.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeProjectIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeProjectIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeProjectIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_project&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_project&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Project.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeRouterIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeRouterIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeRouterIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_routers&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_router&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Router.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeSnapshotIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeSnapshotIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeSnapshotIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_snapshots&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_snapshot&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Snapshot.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeSslCertificateIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeSslCertificateIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeSslCertificateIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_sslcertificates&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_sslcertificate&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute SSL Certificate.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeSubnetworkIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeSubnetworkIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeSubnetworkIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_subnetworks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_subnetwork&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute Subnetwork.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetHttpProxyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetHttpProxyIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetHttpProxyIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targethttpproxies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targethttpproxy&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetHttpProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetHttpsProxyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetHttpsProxyIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetHttpsProxyIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targethttpsproxies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targethttpsproxy&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetHttpsProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetInstanceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetInstanceIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetInstanceIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targetinstances&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targetinstance&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetInstance.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetPoolIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetPoolIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetPoolIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targetpools&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targetpool&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetPool.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetSslProxyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetSslProxyIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetSslProxyIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targetsslproxies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targetsslproxy&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetSslProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetTcpProxyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetTcpProxyIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetTcpProxyIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targettcpproxies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targettcpproxy&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetTcpProxy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeTargetVpnGatewayIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeTargetVpnGatewayIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeTargetVpnGatewayIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_targetvpngateways&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_targetvpngateway&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute TargetVpnGateway.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeUrlMapIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeUrlMapIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeUrlMapIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_urlmaps&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_urlmap&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute UrlMap.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ComputeVpnTunnelIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ComputeVpnTunnelIterator">[docs]</a><span class="k">class</span> <span class="nc">ComputeVpnTunnelIterator</span><span class="p">(</span><span class="n">compute_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_compute_vpntunnels&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;compute_vpntunnel&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Compute VpnTunnel.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="DataprocClusterIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DataprocClusterIterator">[docs]</a><span class="k">class</span> <span class="nc">DataprocClusterIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_dataproc_clusters&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;dataproc_cluster&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectId&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Cloud Dataproc Cluster.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="DnsManagedZoneIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DnsManagedZoneIterator">[docs]</a><span class="k">class</span> <span class="nc">DnsManagedZoneIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_dns_managedzones&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;dns_managedzone&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Cloud DNS ManagedZone.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="DnsPolicyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.DnsPolicyIterator">[docs]</a><span class="k">class</span> <span class="nc">DnsPolicyIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_dns_policies&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;dns_policy&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Cloud DNS Policy.&quot;&quot;&quot;</span></div>


<span class="c1"># GSuite iterators do not support using the class factory.</span>
<div class="viewcode-block" id="GsuiteGroupIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteGroupIterator">[docs]</a><span class="k">class</span> <span class="nc">GsuiteGroupIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Gsuite Group&quot;&quot;&quot;</span>

<div class="viewcode-block" id="GsuiteGroupIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteGroupIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: GsuiteGroup created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gsuite</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">has_directory_resource_id</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gsuite</span><span class="o">.</span><span class="n">iter_gsuite_groups</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;owner&#39;</span><span class="p">][</span><span class="s1">&#39;directoryCustomerId&#39;</span><span class="p">]):</span>
                    <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;gsuite_group&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="GsuiteMemberIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteMemberIterator">[docs]</a><span class="k">class</span> <span class="nc">GsuiteMemberIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Gsuite Member&quot;&quot;&quot;</span>

<div class="viewcode-block" id="GsuiteMemberIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteMemberIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: GsuiteUserMember or GsuiteGroupMember created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gsuite</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gsuite</span><span class="o">.</span><span class="n">iter_gsuite_group_members</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]):</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;USER&#39;</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;gsuite_user_member&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;GROUP&#39;</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;gsuite_group_member&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="GsuiteUserIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteUserIterator">[docs]</a><span class="k">class</span> <span class="nc">GsuiteUserIterator</span><span class="p">(</span><span class="n">ResourceIterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Gsuite User&quot;&quot;&quot;</span>

<div class="viewcode-block" id="GsuiteUserIterator.iter"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.GsuiteUserIterator.iter">[docs]</a>    <span class="k">def</span> <span class="nf">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Resource iterator.</span>

<span class="sd">        Yields:</span>
<span class="sd">            Resource: GsuiteUser created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gsuite</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">has_directory_resource_id</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">gsuite</span><span class="o">.</span><span class="n">iter_gsuite_users</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;owner&#39;</span><span class="p">][</span><span class="s1">&#39;directoryCustomerId&#39;</span><span class="p">]):</span>
                    <span class="k">yield</span> <span class="n">FACTORIES</span><span class="p">[</span><span class="s1">&#39;gsuite_user&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create_new</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ResourceNotSupported</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># API client doesn&#39;t support this resource, ignore.</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="IamOrganizationCuratedRoleIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamOrganizationCuratedRoleIterator">[docs]</a><span class="k">class</span> <span class="nc">IamOrganizationCuratedRoleIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_iam_curated_roles&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;iam_curated_role&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Organization Curated Role.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IamOrganizationRoleIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamOrganizationRoleIterator">[docs]</a><span class="k">class</span> <span class="nc">IamOrganizationRoleIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_iam_organization_roles&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;iam_role&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for IAM Organization Role.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IamProjectRoleIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamProjectRoleIterator">[docs]</a><span class="k">class</span> <span class="nc">IamProjectRoleIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_iam_project_roles&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;iam_role&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectId&#39;</span><span class="p">,</span>
        <span class="n">additional_arg_keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for IAM Project Role.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IamServiceAccountIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamServiceAccountIterator">[docs]</a><span class="k">class</span> <span class="nc">IamServiceAccountIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_iam_serviceaccounts&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;iam_serviceaccount&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectId&#39;</span><span class="p">,</span>
        <span class="n">additional_arg_keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for IAM ServiceAccount.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IamServiceAccountKeyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.IamServiceAccountKeyIterator">[docs]</a><span class="k">class</span> <span class="nc">IamServiceAccountKeyIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_iam_serviceaccount_exported_keys&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;iam_serviceaccount_key&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for IAM ServiceAccount Key.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="KmsKeyRingIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsKeyRingIterator">[docs]</a><span class="k">class</span> <span class="nc">KmsKeyRingIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_kms_keyrings&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;kms_keyring&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectId&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for KMS KeyRing.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="KmsCryptoKeyIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsCryptoKeyIterator">[docs]</a><span class="k">class</span> <span class="nc">KmsCryptoKeyIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_kms_cryptokeys&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;kms_cryptokey&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for KMS CryptoKey.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="KmsCryptoKeyVersionIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KmsCryptoKeyVersionIterator">[docs]</a><span class="k">class</span> <span class="nc">KmsCryptoKeyVersionIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_kms_cryptokeyversions&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;kms_cryptokeyversion&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for KMS CryptoKeyVersion.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="KubernetesClusterIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.KubernetesClusterIterator">[docs]</a><span class="k">class</span> <span class="nc">KubernetesClusterIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_container_clusters&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;kubernetes_cluster&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;container_api_enabled&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Kubernetes Cluster.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="LoggingBillingAccountSinkIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.LoggingBillingAccountSinkIterator">[docs]</a><span class="k">class</span> <span class="nc">LoggingBillingAccountSinkIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_stackdriver_billing_account_sinks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;logging_sink&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Logging Billing Account Sink.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="LoggingFolderSinkIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.LoggingFolderSinkIterator">[docs]</a><span class="k">class</span> <span class="nc">LoggingFolderSinkIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_stackdriver_folder_sinks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;logging_sink&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Logging Folder Sink.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="LoggingOrganizationSinkIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.LoggingOrganizationSinkIterator">[docs]</a><span class="k">class</span> <span class="nc">LoggingOrganizationSinkIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_stackdriver_organization_sinks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;logging_sink&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Logging Organization Sink&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="LoggingProjectSinkIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.LoggingProjectSinkIterator">[docs]</a><span class="k">class</span> <span class="nc">LoggingProjectSinkIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_stackdriver_project_sinks&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;logging_sink&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Logging Project Sink.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="PubsubSubscriptionIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.PubsubSubscriptionIterator">[docs]</a><span class="k">class</span> <span class="nc">PubsubSubscriptionIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_pubsub_subscriptions&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;pubsub_subscription&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectId&#39;</span><span class="p">,</span>
        <span class="n">additional_arg_keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for PubSub Subscription.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="PubsubTopicIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.PubsubTopicIterator">[docs]</a><span class="k">class</span> <span class="nc">PubsubTopicIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_pubsub_topics&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;pubsub_topic&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectId&#39;</span><span class="p">,</span>
        <span class="n">additional_arg_keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">],</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for PubSub Topic.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ResourceManagerProjectLienIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.ResourceManagerProjectLienIterator">[docs]</a><span class="k">class</span> <span class="nc">ResourceManagerProjectLienIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_crm_project_liens&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;crm_lien&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Resource Manager Lien.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="SpannerDatabaseIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.SpannerDatabaseIterator">[docs]</a><span class="k">class</span> <span class="nc">SpannerDatabaseIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_spanner_databases&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;spanner_database&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Cloud DNS ManagedZone.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="SpannerInstanceIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.SpannerInstanceIterator">[docs]</a><span class="k">class</span> <span class="nc">SpannerInstanceIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_spanner_instances&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;spanner_instance&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;enumerable&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Cloud DNS Policy.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="StorageBucketIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageBucketIterator">[docs]</a><span class="k">class</span> <span class="nc">StorageBucketIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_storage_buckets&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;storage_bucket&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;projectNumber&#39;</span><span class="p">,</span>
        <span class="n">resource_validation_method_name</span><span class="o">=</span><span class="s1">&#39;storage_api_enabled&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Storage Bucket.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="StorageObjectIterator"><a class="viewcode-back" href="../../../../../../../google.cloud.forseti.services.inventory.base.resources.html#google.cloud.forseti.services.inventory.base.resources.StorageObjectIterator">[docs]</a><span class="k">class</span> <span class="nc">StorageObjectIterator</span><span class="p">(</span><span class="n">resource_iter_class_factory</span><span class="p">(</span>
        <span class="n">api_method_name</span><span class="o">=</span><span class="s1">&#39;iter_storage_objects&#39;</span><span class="p">,</span>
        <span class="n">resource_name</span><span class="o">=</span><span class="s1">&#39;storage_object&#39;</span><span class="p">,</span>
        <span class="n">api_method_arg_key</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;The Resource iterator implementation for Storage Object.&quot;&quot;&quot;</span></div>


<span class="n">FACTORIES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;organization&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ResourceManagerOrganization</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">BillingAccountIterator</span><span class="p">,</span>
            <span class="n">GsuiteGroupIterator</span><span class="p">,</span>
            <span class="n">GsuiteUserIterator</span><span class="p">,</span>
            <span class="n">IamOrganizationCuratedRoleIterator</span><span class="p">,</span>
            <span class="n">IamOrganizationRoleIterator</span><span class="p">,</span>
            <span class="n">LoggingOrganizationSinkIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerOrganizationOrgPolicyIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerFolderIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerProjectIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;folder&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ResourceManagerFolder</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">LoggingFolderSinkIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerFolderOrgPolicyIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerFolderIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerProjectIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;project&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="s1">&#39;folder&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ResourceManagerProject</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">AppEngineAppIterator</span><span class="p">,</span>
            <span class="n">BigqueryDataSetIterator</span><span class="p">,</span>
            <span class="n">CloudSqlInstanceIterator</span><span class="p">,</span>
            <span class="n">ComputeAutoscalerIterator</span><span class="p">,</span>
            <span class="n">ComputeBackendBucketIterator</span><span class="p">,</span>
            <span class="n">ComputeBackendServiceIterator</span><span class="p">,</span>
            <span class="n">ComputeDiskIterator</span><span class="p">,</span>
            <span class="n">ComputeFirewallIterator</span><span class="p">,</span>
            <span class="n">ComputeForwardingRuleIterator</span><span class="p">,</span>
            <span class="n">ComputeHealthCheckIterator</span><span class="p">,</span>
            <span class="n">ComputeHttpHealthCheckIterator</span><span class="p">,</span>
            <span class="n">ComputeHttpsHealthCheckIterator</span><span class="p">,</span>
            <span class="n">ComputeImageIterator</span><span class="p">,</span>
            <span class="n">ComputeInstanceGroupIterator</span><span class="p">,</span>
            <span class="n">ComputeInstanceGroupManagerIterator</span><span class="p">,</span>
            <span class="n">ComputeInstanceIterator</span><span class="p">,</span>
            <span class="n">ComputeInstanceTemplateIterator</span><span class="p">,</span>
            <span class="n">ComputeLicenseIterator</span><span class="p">,</span>
            <span class="n">ComputeNetworkIterator</span><span class="p">,</span>
            <span class="n">ComputeProjectIterator</span><span class="p">,</span>
            <span class="n">ComputeRouterIterator</span><span class="p">,</span>
            <span class="n">ComputeSnapshotIterator</span><span class="p">,</span>
            <span class="n">ComputeSslCertificateIterator</span><span class="p">,</span>
            <span class="n">ComputeSubnetworkIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetHttpProxyIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetHttpsProxyIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetInstanceIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetPoolIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetSslProxyIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetTcpProxyIterator</span><span class="p">,</span>
            <span class="n">ComputeTargetVpnGatewayIterator</span><span class="p">,</span>
            <span class="n">ComputeUrlMapIterator</span><span class="p">,</span>
            <span class="n">ComputeVpnTunnelIterator</span><span class="p">,</span>
            <span class="n">DataprocClusterIterator</span><span class="p">,</span>
            <span class="n">DnsManagedZoneIterator</span><span class="p">,</span>
            <span class="n">DnsPolicyIterator</span><span class="p">,</span>
            <span class="n">IamProjectRoleIterator</span><span class="p">,</span>
            <span class="n">IamServiceAccountIterator</span><span class="p">,</span>
            <span class="n">KmsKeyRingIterator</span><span class="p">,</span>
            <span class="n">KubernetesClusterIterator</span><span class="p">,</span>
            <span class="n">LoggingProjectSinkIterator</span><span class="p">,</span>
            <span class="n">PubsubSubscriptionIterator</span><span class="p">,</span>
            <span class="n">PubsubTopicIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerProjectLienIterator</span><span class="p">,</span>
            <span class="n">ResourceManagerProjectOrgPolicyIterator</span><span class="p">,</span>
            <span class="n">SpannerInstanceIterator</span><span class="p">,</span>
            <span class="n">StorageBucketIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;appengine_app&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">AppEngineApp</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">AppEngineServiceIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;appengine_service&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;appengine_app&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">AppEngineService</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">AppEngineVersionIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;appengine_version&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;appengine_service&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">AppEngineVersion</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">AppEngineInstanceIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;appengine_instance&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;appengine_version&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">AppEngineInstance</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;billing_account&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">BillingAccount</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">LoggingBillingAccountSinkIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;bigquery_dataset&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">BigqueryDataSet</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">BigqueryTableIterator</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;bigquery_table&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bigquery_dataset&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">BigqueryTable</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;cloudsql_instance&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">CloudSqlInstance</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_autoscaler&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeAutoscaler</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_backendservice&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeBackendService</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_backendbucket&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeBackendBucket</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_disk&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeDisk</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_firewall&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeFirewall</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_forwardingrule&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeForwardingRule</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_healthcheck&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeHealthCheck</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_httphealthcheck&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeHttpHealthCheck</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_httpshealthcheck&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeHttpsHealthCheck</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_image&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeImage</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_instancegroup&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeInstanceGroup</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_instancegroupmanager&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeInstanceGroupManager</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_instance&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeInstance</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_instancetemplate&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeInstanceTemplate</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_license&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeLicense</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_network&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeNetwork</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_project&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeProject</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_router&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeRouter</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_snapshot&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeSnapshot</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_sslcertificate&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeSslCertificate</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_subnetwork&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeSubnetwork</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targethttpproxy&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetHttpProxy</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targethttpsproxy&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetHttpsProxy</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targetinstance&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetInstance</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targetpool&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetPool</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targetsslproxy&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetSslProxy</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targettcpproxy&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetTcpProxy</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_targetvpngateway&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeTargetVpnGateway</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_urlmap&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeUrlMap</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;compute_vpntunnel&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ComputeVpnTunnel</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;crm_lien&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ResourceManagerLien</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;crm_org_policy&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;folder&#39;</span><span class="p">,</span> <span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">ResourceManagerOrgPolicy</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;dataproc_cluster&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">DataprocCluster</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;dns_managedzone&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">DnsManagedZone</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;dns_policy&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">DnsPolicy</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;gsuite_group&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">GsuiteGroup</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">GsuiteMemberIterator</span><span class="p">,</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;gsuite_group_member&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;gsuite_group&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">GsuiteGroupMember</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;gsuite_user&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">GsuiteUser</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;gsuite_user_member&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;gsuite_group&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">GsuiteUserMember</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;iam_curated_role&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">IamCuratedRole</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;iam_role&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">IamRole</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;iam_serviceaccount&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">IamServiceAccount</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">IamServiceAccountKeyIterator</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;iam_serviceaccount_key&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;iam_serviceaccount&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">IamServiceAccountKey</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;kms_keyring&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">KmsKeyRing</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">KmsCryptoKeyIterator</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;kms_cryptokey&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;kms_keyring&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">KmsCryptoKey</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">KmsCryptoKeyVersionIterator</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;kms_cryptokeyversion&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;kms_cryptokey&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">KmsCryptoKeyVersion</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;kubernetes_cluster&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">KubernetesCluster</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;logging_sink&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="s1">&#39;folder&#39;</span><span class="p">,</span> <span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">LoggingSink</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;pubsub_subscription&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">PubsubSubscription</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;pubsub_topic&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">PubsubTopic</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;spanner_database&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">SpannerDatabase</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>

    <span class="s1">&#39;spanner_instance&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">SpannerInstance</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">SpannerDatabaseIterator</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;storage_bucket&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">StorageBucket</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="c1"># StorageObjectIterator</span>
        <span class="p">]}),</span>

    <span class="s1">&#39;storage_object&#39;</span><span class="p">:</span> <span class="n">ResourceFactory</span><span class="p">({</span>
        <span class="s1">&#39;dependsOn&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bucket&#39;</span><span class="p">],</span>
        <span class="s1">&#39;cls&#39;</span><span class="p">:</span> <span class="n">StorageObject</span><span class="p">,</span>
        <span class="s1">&#39;contains&#39;</span><span class="p">:</span> <span class="p">[]}),</span>
<span class="p">}</span>
</pre></div>
