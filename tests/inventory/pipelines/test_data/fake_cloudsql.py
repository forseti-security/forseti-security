# Copyright 2017 Google Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

"""Fake cloudsql data."""

from copy import deepcopy

FAKE_CLOUDSQL_MAP = [{
  'project_number': 11111,
  'instances':{
    u'items': [{u'backendType': u'SECOND_GEN',
               u'connectionName': u'project-1:us-east1:cloudsql-instance',
               u'databaseVersion': u'MYSQL_5_7',
               u'etag': u'"CAE="',
               u'instanceType': u'CLOUD_SQL_INSTANCE',
               u'ipAddresses': [{u'ipAddress': u'1.2.3.4',
                                 u'type': u'PRIMARY'}],
               u'kind': u'sql#instance',
               u'name': u'cloudsql-instance',
               u'project': u'project-1',
               u'region': u'us-east1',
               u'selfLink': u'https://www.googleapis.com/sql/v1beta4/projects/project-1/instances/cloudsql-instance',
               u'serverCaCert': {},
               u'serviceAccountEmailAddress': u'serviceaccount1@iam.gserviceaccount.com',
               u'settings': {u'activationPolicy': u'ALWAYS',
                             u'authorizedGaeApplications': [],
                             u'backupConfiguration': {u'binaryLogEnabled': True,
                                                      u'enabled': True,
                                                      u'kind': u'sql#backupConfiguration',
                                                      u'startTime': u'03:00'},
                             u'dataDiskSizeGb': u'10',
                             u'dataDiskType': u'PD_SSD',
                             u'ipConfiguration': {u'authorizedNetworks': [],
                                                  u'ipv4Enabled': True,
                                                  u'requireSsl': True},
                             u'kind': u'sql#settings',
                             u'pricingPlan': u'PER_USE',
                             u'replicationType': u'SYNCHRONOUS',
                             u'settingsVersion': u'28',
                             u'storageAutoResize': False,
                             u'storageAutoResizeLimit': u'0',
                             u'tier': u'db-n1-standard-1'},
               u'state': u'RUNNABLE'},
              {u'backendType': u'SECOND_GEN',
               u'connectionName': u'project-1:europe-west1:test-forseti',
               u'databaseVersion': u'MYSQL_5_7',
               u'etag': u'"CAE="',
               u'instanceType': u'CLOUD_SQL_INSTANCE',
               u'ipAddresses': [{u'ipAddress': u'4.3.2.1',
                                 u'type': u'PRIMARY'}],
               u'kind': u'sql#instance',
               u'name': u'test-forseti',
               u'project': u'project-1',
               u'region': u'europe-west1',
               u'selfLink': u'https://www.googleapis.com/sql/v1beta4/projects/project-1/instances/test-forseti',
               u'serverCaCert': {},
               u'serviceAccountEmailAddress': u'serviceaccount2@iam.gserviceaccount.com',
               u'settings': {u'activationPolicy': u'ALWAYS',
                             u'authorizedGaeApplications': [],
                             u'backupConfiguration': {u'binaryLogEnabled': False,
                                                      u'enabled': False,
                                                      u'kind': u'sql#backupConfiguration',
                                                      u'startTime': u'03:00'},
                             u'dataDiskSizeGb': u'250',
                             u'dataDiskType': u'PD_SSD',
                             u'ipConfiguration': {u'authorizedNetworks': [{u'kind': u'sql#aclEntry',
                                                                           u'name': u'test',
                                                                           u'value': u'0.0.0.0/0'}],
                                                  u'ipv4Enabled': True},
                             u'kind': u'sql#settings',
                             u'maintenanceWindow': {u'day': 0,
                                                    u'hour': 0,
                                                    u'kind': u'sql#maintenanceWindow'},
                             u'pricingPlan': u'PER_USE',
                             u'replicationType': u'SYNCHRONOUS',
                             u'settingsVersion': u'6',
                             u'storageAutoResize': True,
                             u'storageAutoResizeLimit': u'0',
                             u'tier': u'db-n1-standard-1'},
               u'state': u'RUNNABLE'},
              {u'backendType': u'SECOND_GEN',
               u'connectionName': u'project-1:us-central1:forsetitest-2',
               u'databaseVersion': u'MYSQL_5_7',
               u'etag': u'"CAE="',
               u'instanceType': u'CLOUD_SQL_INSTANCE',
               u'ipAddresses': [{u'ipAddress': u'192.168.1.2',
                                 u'type': u'PRIMARY'}],
               u'kind': u'sql#instance',
               u'name': u'forsetitest-2',
               u'project': u'project-1',
               u'region': u'us-central1',
               u'selfLink': u'https://www.googleapis.com/sql/v1beta4/projects/project-1/instances/forsetitest-2',
               u'serverCaCert': {},
               u'serviceAccountEmailAddress': u'serviceaccount3@iam.gserviceaccount.com',
               u'settings': {u'activationPolicy': u'ALWAYS',
                             u'authorizedGaeApplications': [],
                             u'backupConfiguration': {u'binaryLogEnabled': True,
                                                      u'enabled': True,
                                                      u'kind': u'sql#backupConfiguration',
                                                      u'startTime': u'11:00'},
                             u'dataDiskSizeGb': u'25',
                             u'dataDiskType': u'PD_HDD',
                             u'ipConfiguration': {u'authorizedNetworks': [{u'kind': u'sql#aclEntry',
                                                                           u'name': u'127.7.7.7',
                                                                           u'value': u'127.0.214.3/32'}],
                                                  u'ipv4Enabled': True},
                             u'kind': u'sql#settings',
                             u'maintenanceWindow': {u'day': 0,
                                                    u'hour': 0,
                                                    u'kind': u'sql#maintenanceWindow'},
                             u'pricingPlan': u'PER_USE',
                             u'replicationType': u'SYNCHRONOUS',
                             u'settingsVersion': u'57',
                             u'storageAutoResize': True,
                             u'storageAutoResizeLimit': u'0',
                             u'tier': u'db-n1-standard-1'},
               u'state': u'RUNNABLE'}],
   u'kind': u'sql#instancesList'}
}]

EXPECTED_LOADED_AUTHORIZEDNETWORKS = [
  {'expirationTime': '1972-01-01 00:00:00',
   'instance_name': u'test-forseti',
   'kind': u'sql#aclEntry',
   'name': u'test',
   'project_number': 11111,
   'value': u'0.0.0.0/0'},
  {'expirationTime': '1972-01-01 00:00:00',
   'instance_name': u'forsetitest-2',
   'kind': u'sql#aclEntry',
   'name': u'127.7.7.7',
   'project_number': 11111,
   'value': u'127.0.214.3/32'}
]
EXPECTED_LOADED_IPADDRESSES = [
  {'instance_name': u'cloudsql-instance',
   'ipAddress': u'1.2.3.4',
   'project_number': 11111,
   'timeToRetire': '1972-01-01 00:00:00',
   'type': u'PRIMARY'},
  {'instance_name': u'test-forseti',
   'ipAddress': u'4.3.2.1',
   'project_number': 11111,
   'timeToRetire': '1972-01-01 00:00:00',
   'type': u'PRIMARY'},
  {'instance_name': u'forsetitest-2',
   'ipAddress': u'192.168.1.2',
   'project_number': 11111,
   'timeToRetire': '1972-01-01 00:00:00',
   'type': u'PRIMARY'}
]

EXPECTED_LOADED_INSTANCES = [
  {'backendType': u'SECOND_GEN',
   'connectionName': u'project-1:us-east1:cloudsql-instance',
   'currentDiskSize': 0,
   'databaseVersion': u'MYSQL_5_7',
   'failoverReplica_available': None,
   'failoverReplica_name': None,
   'instanceType': u'CLOUD_SQL_INSTANCE',
   'ipv6Address': None,
   'kind': u'sql#instance',
   'masterInstanceName': None,
   'maxDiskSize': 0,
   'name': u'cloudsql-instance',
   'onPremisesConfiguration_hostPort': None,
   'onPremisesConfiguration_kind': None,
   'project': u'project-1',
   'project_number': 11111,
   'region': u'us-east1',
   'replicaConfiguration': 'null',
   'replicaNames': 'null',
   'selfLink': u'https://www.googleapis.com/sql/v1beta4/projects/\
project-1/instances/cloudsql-instance',
   'serverCaCert': '{}',
   'serviceAccountEmailAddress': u'serviceaccount1@iam.gserviceaccount.com',
   'settings_activationPolicy': u'ALWAYS',
   'settings_authorizedGaeApplications': '[]',
   'settings_availabilityType': None,
   'settings_backupConfiguration_binaryLogEnabled': True,
   'settings_backupConfiguration_enabled': True,
   'settings_backupConfiguration_kind': u'sql#backupConfiguration',
   'settings_backupConfiguration_startTime': u'03:00',
   'settings_crashSafeReplicationEnabled': None,
   'settings_dataDiskSizeGb': 10,
   'settings_dataDiskType': u'PD_SSD',
   'settings_databaseFlags': 'null',
   'settings_databaseReplicationEnabled': {},
   'settings_ipConfiguration_ipv4Enabled': True,
   'settings_ipConfiguration_requireSsl': True,
   'settings_kind': u'sql#settings',
   'settings_labels': 'null',
   'settings_locationPreference_followGaeApplication': None,
   'settings_locationPreference_kind': None,
   'settings_locationPreference_zone': None,
   'settings_maintenanceWindow': 'null',
   'settings_pricingPlan': u'PER_USE',
   'settings_replicationType': u'SYNCHRONOUS',
   'settings_settingsVersion': 28,
   'settings_storageAutoResize': False,
   'settings_storageAutoResizeLimit': 0,
   'settings_tier': u'db-n1-standard-1',
   'state': u'RUNNABLE',
   'suspensionReason': 'null'},
   {'backendType': u'SECOND_GEN',
   'connectionName': u'project-1:europe-west1:test-forseti',
   'currentDiskSize': 0,
   'databaseVersion': u'MYSQL_5_7',
   'failoverReplica_available': None,
   'failoverReplica_name': None,
   'instanceType': u'CLOUD_SQL_INSTANCE',
   'ipv6Address': None,
   'kind': u'sql#instance',
   'masterInstanceName': None,
   'maxDiskSize': 0,
   'name': u'test-forseti',
   'onPremisesConfiguration_hostPort': None,
   'onPremisesConfiguration_kind': None,
   'project': u'project-1',
   'project_number': 11111,
   'region': u'europe-west1',
   'replicaConfiguration': 'null',
   'replicaNames': 'null',
   'selfLink': u'https://www.googleapis.com/sql/v1beta4/projects/project-1/\
instances/test-forseti',
   'serverCaCert': '{}',
   'serviceAccountEmailAddress': u'serviceaccount2@iam.gserviceaccount.com',
   'settings_activationPolicy': u'ALWAYS',
   'settings_authorizedGaeApplications': '[]',
   'settings_availabilityType': None,
   'settings_backupConfiguration_binaryLogEnabled': False,
   'settings_backupConfiguration_enabled': False,
   'settings_backupConfiguration_kind': u'sql#backupConfiguration',
   'settings_backupConfiguration_startTime': u'03:00',
   'settings_crashSafeReplicationEnabled': None,
   'settings_dataDiskSizeGb': 250,
   'settings_dataDiskType': u'PD_SSD',
   'settings_databaseFlags': 'null',
   'settings_databaseReplicationEnabled': {},
   'settings_ipConfiguration_ipv4Enabled': True,
   'settings_ipConfiguration_requireSsl': {},
   'settings_kind': u'sql#settings',
   'settings_labels': 'null',
   'settings_locationPreference_followGaeApplication': None,
   'settings_locationPreference_kind': None,
   'settings_locationPreference_zone': None,
   'settings_maintenanceWindow': '{"kind": "sql#maintenanceWindow", \
"day": 0, "hour": 0}',
   'settings_pricingPlan': u'PER_USE',
   'settings_replicationType': u'SYNCHRONOUS',
   'settings_settingsVersion': 6,
   'settings_storageAutoResize': True,
   'settings_storageAutoResizeLimit': 0,
   'settings_tier': u'db-n1-standard-1',
   'state': u'RUNNABLE',
   'suspensionReason': 'null'},
   {'backendType': u'SECOND_GEN',
   'connectionName': u'project-1:us-central1:forsetitest-2',
   'currentDiskSize': 0,
   'databaseVersion': u'MYSQL_5_7',
   'failoverReplica_available': None,
   'failoverReplica_name': None,
   'instanceType': u'CLOUD_SQL_INSTANCE',
   'ipv6Address': None,
   'kind': u'sql#instance',
   'masterInstanceName': None,
   'maxDiskSize': 0,
   'name': u'forsetitest-2',
   'onPremisesConfiguration_hostPort': None,
   'onPremisesConfiguration_kind': None,
   'project': u'project-1',
   'project_number': 11111,
   'region': u'us-central1',
   'replicaConfiguration': 'null',
   'replicaNames': 'null',
   'selfLink': u'https://www.googleapis.com/sql/v1beta4/projects/project-1/\
instances/forsetitest-2',
   'serverCaCert': '{}',
   'serviceAccountEmailAddress': u'serviceaccount3@iam.gserviceaccount.com',
   'settings_activationPolicy': u'ALWAYS',
   'settings_authorizedGaeApplications': '[]',
   'settings_availabilityType': None,
   'settings_backupConfiguration_binaryLogEnabled': True,
   'settings_backupConfiguration_enabled': True,
   'settings_backupConfiguration_kind': u'sql#backupConfiguration',
   'settings_backupConfiguration_startTime': u'11:00',
   'settings_crashSafeReplicationEnabled': None,
   'settings_dataDiskSizeGb': 25,
   'settings_dataDiskType': u'PD_HDD',
   'settings_databaseFlags': 'null',
   'settings_databaseReplicationEnabled': {},
   'settings_ipConfiguration_ipv4Enabled': True,
   'settings_ipConfiguration_requireSsl': {},
   'settings_kind': u'sql#settings',
   'settings_labels': 'null',
   'settings_locationPreference_followGaeApplication': None,
   'settings_locationPreference_kind': None,
   'settings_locationPreference_zone': None,
   'settings_maintenanceWindow': '{"kind": "sql#maintenanceWindow", "day": 0, \
"hour": 0}',
   'settings_pricingPlan': u'PER_USE',
   'settings_replicationType': u'SYNCHRONOUS',
   'settings_settingsVersion': 57,
   'settings_storageAutoResize': True,
   'settings_storageAutoResizeLimit': 0,
   'settings_tier': u'db-n1-standard-1',
   'state': u'RUNNABLE',
   'suspensionReason': 'null'}
]